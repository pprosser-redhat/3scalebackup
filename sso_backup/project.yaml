apiVersion: v1
items:
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    creationTimestamp: null
    generation: 1
    labels:
      app: sso71-mysql-persistent
      application: sso
      template: sso71-mysql-persistent
      xpaas: 1.4.7
    name: sso
  spec:
    replicas: 1
    selector:
      deploymentConfig: sso
    strategy:
      activeDeadlineSeconds: 21600
      recreateParams:
        timeoutSeconds: 600
      resources: {}
      type: Recreate
    template:
      metadata:
        creationTimestamp: null
        labels:
          application: sso
          deploymentConfig: sso
        name: sso
      spec:
        containers:
        - env:
          - name: DB_SERVICE_PREFIX_MAPPING
            value: sso-mysql=DB
          - name: DB_JNDI
            value: java:jboss/datasources/KeycloakDS
          - name: DB_USERNAME
            value: usert0B
          - name: DB_PASSWORD
            value: viiR0aFJ
          - name: DB_DATABASE
            value: root
          - name: TX_DATABASE_PREFIX_MAPPING
            value: sso-mysql=DB
          - name: DB_MIN_POOL_SIZE
          - name: DB_MAX_POOL_SIZE
          - name: DB_TX_ISOLATION
          - name: OPENSHIFT_KUBE_PING_LABELS
            value: application=sso
          - name: OPENSHIFT_KUBE_PING_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: HTTPS_KEYSTORE_DIR
            value: /etc/sso-secret-volume
          - name: HTTPS_KEYSTORE
            value: sso-https.jks
          - name: HTTPS_KEYSTORE_TYPE
          - name: HTTPS_NAME
          - name: HTTPS_PASSWORD
            value: redhat123
          - name: JGROUPS_ENCRYPT_SECRET
            value: sso-ssl-secret
          - name: JGROUPS_ENCRYPT_KEYSTORE_DIR
            value: /etc/jgroups-encrypt-secret-volume
          - name: JGROUPS_ENCRYPT_KEYSTORE
            value: jgroups.jceks
          - name: JGROUPS_ENCRYPT_NAME
          - name: JGROUPS_ENCRYPT_PASSWORD
            value: redhat123
          - name: JGROUPS_CLUSTER_PASSWORD
            value: redhat123
          - name: SSO_ADMIN_USERNAME
            value: admin
          - name: SSO_ADMIN_PASSWORD
            value: redhat123
          - name: SSO_REALM
            value: 3Scale
          - name: SSO_SERVICE_USERNAME
          - name: SSO_SERVICE_PASSWORD
          - name: SSO_TRUSTSTORE
            value: truststore.jks
          - name: SSO_TRUSTSTORE_DIR
            value: /etc/sso-secret-volume
          - name: SSO_TRUSTSTORE_PASSWORD
            value: redhat123
          image: registry.access.redhat.com/redhat-sso-7/sso71-openshift@sha256:8c8aa52c1dc52cb3fe19ab9df5d129e3dc8bae754fb3a84d5194b445071b0ca8
          imagePullPolicy: Always
          lifecycle:
            preStop:
              exec:
                command:
                - /opt/eap/bin/jboss-cli.sh
                - -c
                - :shutdown(timeout=60)
          livenessProbe:
            exec:
              command:
              - /bin/bash
              - -c
              - /opt/eap/bin/livenessProbe.sh
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: sso
          ports:
          - containerPort: 8778
            name: jolokia
            protocol: TCP
          - containerPort: 8080
            name: http
            protocol: TCP
          - containerPort: 8443
            name: https
            protocol: TCP
          - containerPort: 8888
            name: ping
            protocol: TCP
          readinessProbe:
            exec:
              command:
              - /bin/bash
              - -c
              - /opt/eap/bin/readinessProbe.sh
            failureThreshold: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/eap-secret-volume
            name: eap-keystore-volume
            readOnly: true
          - mountPath: /etc/jgroups-encrypt-secret-volume
            name: eap-jgroups-keystore-volume
            readOnly: true
          - mountPath: /etc/sso-secret-volume
            name: sso-truststore-volume
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: sso-service-account
        serviceAccountName: sso-service-account
        terminationGracePeriodSeconds: 75
        volumes:
        - name: eap-keystore-volume
          secret:
            defaultMode: 420
            secretName: sso-ssl-secret
        - name: eap-jgroups-keystore-volume
          secret:
            defaultMode: 420
            secretName: sso-ssl-secret
        - name: sso-truststore-volume
          secret:
            defaultMode: 420
            secretName: sso-ssl-secret
    test: false
    triggers:
    - imageChangeParams:
        automatic: true
        containerNames:
        - sso
        from:
          kind: ImageStreamTag
          name: redhat-sso71-openshift:1.2
          namespace: openshift
      type: ImageChange
    - type: ConfigChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    creationTimestamp: null
    generation: 1
    labels:
      app: sso71-mysql-persistent
      application: sso
      template: sso71-mysql-persistent
      xpaas: 1.4.7
    name: sso-mysql
  spec:
    replicas: 1
    selector:
      deploymentConfig: sso-mysql
    strategy:
      activeDeadlineSeconds: 21600
      recreateParams:
        timeoutSeconds: 600
      resources: {}
      type: Recreate
    template:
      metadata:
        creationTimestamp: null
        labels:
          application: sso
          deploymentConfig: sso-mysql
        name: sso-mysql
      spec:
        containers:
        - env:
          - name: MYSQL_USER
            value: usert0B
          - name: MYSQL_PASSWORD
            value: viiR0aFJ
          - name: MYSQL_DATABASE
            value: root
          - name: MYSQL_LOWER_CASE_TABLE_NAMES
          - name: MYSQL_MAX_CONNECTIONS
          - name: MYSQL_FT_MIN_WORD_LEN
          - name: MYSQL_FT_MAX_WORD_LEN
          - name: MYSQL_AIO
          image: registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:3abe773161b613b57f653c10ea1019ef7d9a05b2313390a8627be74df98dae77
          imagePullPolicy: Always
          name: sso-mysql
          ports:
          - containerPort: 3306
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/mysql/data
            name: sso-mysql-pvol
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 60
        volumes:
        - name: sso-mysql-pvol
          persistentVolumeClaim:
            claimName: sso-mysql-claim
    test: false
    triggers:
    - imageChangeParams:
        automatic: true
        containerNames:
        - sso-mysql
        from:
          kind: ImageStreamTag
          name: mysql:5.7
          namespace: openshift
      type: ImageChange
    - type: ConfigChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: Route
  metadata:
    annotations:
      description: Route for application's https service.
      openshift.io/host.generated: "true"
    creationTimestamp: null
    labels:
      app: sso71-mysql-persistent
      application: sso
      template: sso71-mysql-persistent
      xpaas: 1.4.7
    name: secure-sso
  spec:
    host: secure-sso-sso.apps.demolab.local
    tls:
      termination: passthrough
    to:
      kind: Service
      name: secure-sso
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-01T09:54:52Z
        status: "True"
        type: Admitted
      host: secure-sso-sso.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    annotations:
      description: Route for application's http service.
      openshift.io/host.generated: "true"
    creationTimestamp: null
    labels:
      app: sso71-mysql-persistent
      application: sso
      template: sso71-mysql-persistent
      xpaas: 1.4.7
    name: sso
  spec:
    host: sso-sso.apps.demolab.local
    to:
      kind: Service
      name: sso
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-01T09:54:51Z
        status: "True"
        type: Admitted
      host: sso-sso.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"sso","name":"sso-5","uid":"541a1101-073a-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469627"}}
      openshift.io/deployment-config.latest-version: "5"
      openshift.io/deployment-config.name: sso
      openshift.io/deployment.name: sso-5
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: sso-5-
    labels:
      application: sso
      deployment: sso-5
      deploymentConfig: sso
      deploymentconfig: sso
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: sso-5
      uid: 541a1101-073a-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - env:
      - name: DB_SERVICE_PREFIX_MAPPING
        value: sso-mysql=DB
      - name: DB_JNDI
        value: java:jboss/datasources/KeycloakDS
      - name: DB_USERNAME
        value: usert0B
      - name: DB_PASSWORD
        value: viiR0aFJ
      - name: DB_DATABASE
        value: root
      - name: TX_DATABASE_PREFIX_MAPPING
        value: sso-mysql=DB
      - name: DB_MIN_POOL_SIZE
      - name: DB_MAX_POOL_SIZE
      - name: DB_TX_ISOLATION
      - name: OPENSHIFT_KUBE_PING_LABELS
        value: application=sso
      - name: OPENSHIFT_KUBE_PING_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: HTTPS_KEYSTORE_DIR
        value: /etc/sso-secret-volume
      - name: HTTPS_KEYSTORE
        value: sso-https.jks
      - name: HTTPS_KEYSTORE_TYPE
      - name: HTTPS_NAME
      - name: HTTPS_PASSWORD
        value: redhat123
      - name: JGROUPS_ENCRYPT_SECRET
        value: sso-ssl-secret
      - name: JGROUPS_ENCRYPT_KEYSTORE_DIR
        value: /etc/jgroups-encrypt-secret-volume
      - name: JGROUPS_ENCRYPT_KEYSTORE
        value: jgroups.jceks
      - name: JGROUPS_ENCRYPT_NAME
      - name: JGROUPS_ENCRYPT_PASSWORD
        value: redhat123
      - name: JGROUPS_CLUSTER_PASSWORD
        value: redhat123
      - name: SSO_ADMIN_USERNAME
        value: admin
      - name: SSO_ADMIN_PASSWORD
        value: redhat123
      - name: SSO_REALM
        value: 3Scale
      - name: SSO_SERVICE_USERNAME
      - name: SSO_SERVICE_PASSWORD
      - name: SSO_TRUSTSTORE
        value: truststore.jks
      - name: SSO_TRUSTSTORE_DIR
        value: /etc/sso-secret-volume
      - name: SSO_TRUSTSTORE_PASSWORD
        value: redhat123
      image: registry.access.redhat.com/redhat-sso-7/sso71-openshift@sha256:8c8aa52c1dc52cb3fe19ab9df5d129e3dc8bae754fb3a84d5194b445071b0ca8
      imagePullPolicy: Always
      lifecycle:
        preStop:
          exec:
            command:
            - /opt/eap/bin/jboss-cli.sh
            - -c
            - :shutdown(timeout=60)
      livenessProbe:
        exec:
          command:
          - /bin/bash
          - -c
          - /opt/eap/bin/livenessProbe.sh
        failureThreshold: 3
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      name: sso
      ports:
      - containerPort: 8778
        name: jolokia
        protocol: TCP
      - containerPort: 8080
        name: http
        protocol: TCP
      - containerPort: 8443
        name: https
        protocol: TCP
      - containerPort: 8888
        name: ping
        protocol: TCP
      readinessProbe:
        exec:
          command:
          - /bin/bash
          - -c
          - /opt/eap/bin/readinessProbe.sh
        failureThreshold: 3
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000080000
        seLinuxOptions:
          level: s0:c9,c4
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/eap-secret-volume
        name: eap-keystore-volume
        readOnly: true
      - mountPath: /etc/jgroups-encrypt-secret-volume
        name: eap-jgroups-keystore-volume
        readOnly: true
      - mountPath: /etc/sso-secret-volume
        name: sso-truststore-volume
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: sso-service-account-token-c2qc5
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: sso-service-account-dockercfg-v2dmf
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000080000
      seLinuxOptions:
        level: s0:c9,c4
    serviceAccount: sso-service-account
    serviceAccountName: sso-service-account
    terminationGracePeriodSeconds: 75
    volumes:
    - name: eap-keystore-volume
      secret:
        defaultMode: 420
        secretName: sso-ssl-secret
    - name: eap-jgroups-keystore-volume
      secret:
        defaultMode: 420
        secretName: sso-ssl-secret
    - name: sso-truststore-volume
      secret:
        defaultMode: 420
        secretName: sso-ssl-secret
    - name: sso-service-account-token-c2qc5
      secret:
        defaultMode: 420
        secretName: sso-service-account-token-c2qc5
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"sso","name":"sso-mysql-1","uid":"f3424a81-0735-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381478926"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: sso-mysql
      openshift.io/deployment.name: sso-mysql-1
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: sso-mysql-1-
    labels:
      application: sso
      deployment: sso-mysql-1
      deploymentConfig: sso-mysql
      deploymentconfig: sso-mysql
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: sso-mysql-1
      uid: f3424a81-0735-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - env:
      - name: MYSQL_USER
        value: usert0B
      - name: MYSQL_PASSWORD
        value: viiR0aFJ
      - name: MYSQL_DATABASE
        value: root
      - name: MYSQL_LOWER_CASE_TABLE_NAMES
      - name: MYSQL_MAX_CONNECTIONS
      - name: MYSQL_FT_MIN_WORD_LEN
      - name: MYSQL_FT_MAX_WORD_LEN
      - name: MYSQL_AIO
      image: registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:3abe773161b613b57f653c10ea1019ef7d9a05b2313390a8627be74df98dae77
      imagePullPolicy: Always
      name: sso-mysql
      ports:
      - containerPort: 3306
        protocol: TCP
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000080000
        seLinuxOptions:
          level: s0:c9,c4
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/mysql/data
        name: sso-mysql-pvol
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-tmx52
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-pnxx5
    nodeName: ocp-app-1.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000080000
      seLinuxOptions:
        level: s0:c9,c4
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 60
    volumes:
    - name: sso-mysql-pvol
      persistentVolumeClaim:
        claimName: sso-mysql-claim
    - name: default-token-tmx52
      secret:
        defaultMode: 420
        secretName: default-token-tmx52
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"sso","name":"sso-mysql-1","uid":"f3424a81-0735-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469182"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: sso-mysql
      openshift.io/deployment.name: sso-mysql-1
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: sso-mysql-1-
    labels:
      application: sso
      deployment: sso-mysql-1
      deploymentConfig: sso-mysql
      deploymentconfig: sso-mysql
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: sso-mysql-1
      uid: f3424a81-0735-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - env:
      - name: MYSQL_USER
        value: usert0B
      - name: MYSQL_PASSWORD
        value: viiR0aFJ
      - name: MYSQL_DATABASE
        value: root
      - name: MYSQL_LOWER_CASE_TABLE_NAMES
      - name: MYSQL_MAX_CONNECTIONS
      - name: MYSQL_FT_MIN_WORD_LEN
      - name: MYSQL_FT_MAX_WORD_LEN
      - name: MYSQL_AIO
      image: registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:3abe773161b613b57f653c10ea1019ef7d9a05b2313390a8627be74df98dae77
      imagePullPolicy: Always
      name: sso-mysql
      ports:
      - containerPort: 3306
        protocol: TCP
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000080000
        seLinuxOptions:
          level: s0:c9,c4
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/mysql/data
        name: sso-mysql-pvol
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-tmx52
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-pnxx5
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000080000
      seLinuxOptions:
        level: s0:c9,c4
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 60
    volumes:
    - name: sso-mysql-pvol
      persistentVolumeClaim:
        claimName: sso-mysql-claim
    - name: default-token-tmx52
      secret:
        defaultMode: 420
        secretName: default-token-tmx52
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/desired-replicas: "1"
      openshift.io/deployer-pod.created-at: 2018-02-01 10:22:19 +0000 UTC
      openshift.io/deployer-pod.name: sso-4-deploy
      openshift.io/deployment-config.latest-version: "4"
      openshift.io/deployment-config.name: sso
      openshift.io/deployment.cancelled: "true"
      openshift.io/deployment.phase: Failed
      openshift.io/deployment.replicas: "0"
      openshift.io/deployment.status-reason: newer deployment was found running
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"sso","namespace":"sso","selfLink":"/apis/apps.openshift.io/v1/namespaces/sso/deploymentconfigs/sso","uid":"f29670c9-0735-11e8-9e1b-5254002f83b4","resourceVersion":"241504304","generation":5,"creationTimestamp":"2018-02-01T09:54:51Z","labels":{"app":"sso71-mysql-persistent","application":"sso","template":"sso71-mysql-persistent","xpaas":"1.4.7"}},"spec":{"strategy":{"type":"Recreate","recreateParams":{"timeoutSeconds":600},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["sso"],"from":{"kind":"ImageStreamTag","namespace":"openshift","name":"redhat-sso71-openshift:1.2"},"lastTriggeredImage":"registry.access.redhat.com/redhat-sso-7/sso71-openshift@sha256:8c8aa52c1dc52cb3fe19ab9df5d129e3dc8bae754fb3a84d5194b445071b0ca8"}},{"type":"ConfigChange"}],"replicas":1,"test":false,"selector":{"deploymentConfig":"sso"},"template":{"metadata":{"name":"sso","creationTimestamp":null,"labels":{"application":"sso","deploymentConfig":"sso"}},"spec":{"volumes":[{"name":"eap-keystore-volume","secret":{"secretName":"sso-ssl-secret","defaultMode":420}},{"name":"eap-jgroups-keystore-volume","secret":{"secretName":"sso-ssl-secret","defaultMode":420}},{"name":"sso-truststore-volume","secret":{"secretName":"sso-ssl-secret","defaultMode":420}}],"containers":[{"name":"sso","image":"registry.access.redhat.com/redhat-sso-7/sso71-openshift@sha256:8c8aa52c1dc52cb3fe19ab9df5d129e3dc8bae754fb3a84d5194b445071b0ca8","ports":[{"name":"jolokia","containerPort":8778,"protocol":"TCP"},{"name":"http","containerPort":8080,"protocol":"TCP"},{"name":"https","containerPort":8443,"protocol":"TCP"},{"name":"ping","containerPort":8888,"protocol":"TCP"}],"env":[{"name":"DB_SERVICE_PREFIX_MAPPING","value":"sso-mysql=DB"},{"name":"DB_JNDI","value":"java:jboss/datasources/KeycloakDS"},{"name":"DB_USERNAME","value":"usert0B"},{"name":"DB_PASSWORD","value":"viiR0aFJ"},{"name":"DB_DATABASE","value":"root"},{"name":"TX_DATABASE_PREFIX_MAPPING","value":"sso-mysql=DB"},{"name":"DB_MIN_POOL_SIZE"},{"name":"DB_MAX_POOL_SIZE"},{"name":"DB_TX_ISOLATION"},{"name":"OPENSHIFT_KUBE_PING_LABELS","value":"application=sso"},{"name":"OPENSHIFT_KUBE_PING_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"HTTPS_KEYSTORE_DIR","value":"/etc/sso-secret-volume"},{"name":"HTTPS_KEYSTORE","value":"keystore.jks"},{"name":"HTTPS_KEYSTORE_TYPE"},{"name":"HTTPS_NAME"},{"name":"HTTPS_PASSWORD","value":"redhat123"},{"name":"JGROUPS_ENCRYPT_SECRET","value":"sso-ssl-secret"},{"name":"JGROUPS_ENCRYPT_KEYSTORE_DIR","value":"/etc/jgroups-encrypt-secret-volume"},{"name":"JGROUPS_ENCRYPT_KEYSTORE","value":"jgroups.jceks"},{"name":"JGROUPS_ENCRYPT_NAME"},{"name":"JGROUPS_ENCRYPT_PASSWORD","value":"redhat123"},{"name":"JGROUPS_CLUSTER_PASSWORD","value":"redhat123"},{"name":"SSO_ADMIN_USERNAME","value":"admin"},{"name":"SSO_ADMIN_PASSWORD","value":"redhat123"},{"name":"SSO_REALM","value":"3Scale"},{"name":"SSO_SERVICE_USERNAME"},{"name":"SSO_SERVICE_PASSWORD"},{"name":"SSO_TRUSTSTORE","value":"truststore.jks"},{"name":"SSO_TRUSTSTORE_DIR","value":"/etc/sso-secret-volume"},{"name":"SSO_TRUSTSTORE_PASSWORD","value":"redhat123"}],"resources":{},"volumeMounts":[{"name":"eap-keystore-volume","readOnly":true,"mountPath":"/etc/eap-secret-volume"},{"name":"eap-jgroups-keystore-volume","readOnly":true,"mountPath":"/etc/jgroups-encrypt-secret-volume"},{"name":"sso-truststore-volume","readOnly":true,"mountPath":"/etc/sso-secret-volume"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/opt/eap/bin/livenessProbe.sh"]},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/opt/eap/bin/readinessProbe.sh"]},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/opt/eap/bin/jboss-cli.sh","-c",":shutdown(timeout=60)"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":75,"dnsPolicy":"ClusterFirst","serviceAccountName":"sso-service-account","serviceAccount":"sso-service-account","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":4,"observedGeneration":5,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T09:54:52Z","lastTransitionTime":"2018-02-01T09:54:52Z","message":"Deployment config does not have minimum availability."},{"type":"Progressing","status":"False","lastUpdateTime":"2018-02-01T10:21:04Z","lastTransitionTime":"2018-02-01T10:21:04Z","reason":"ProgressDeadlineExceeded","message":"replication controller \"sso-3\" has failed progressing"}]}}
    creationTimestamp: null
    generation: 1
    labels:
      app: sso71-mysql-persistent
      application: sso
      openshift.io/deployment-config.name: sso
      template: sso71-mysql-persistent
      xpaas: 1.4.7
    name: sso-4
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: sso
      uid: f29670c9-0735-11e8-9e1b-5254002f83b4
  spec:
    replicas: 0
    selector:
      deployment: sso-4
      deploymentConfig: sso
      deploymentconfig: sso
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "4"
          openshift.io/deployment-config.name: sso
          openshift.io/deployment.name: sso-4
        creationTimestamp: null
        labels:
          application: sso
          deployment: sso-4
          deploymentConfig: sso
          deploymentconfig: sso
      spec:
        containers:
        - env:
          - name: DB_SERVICE_PREFIX_MAPPING
            value: sso-mysql=DB
          - name: DB_JNDI
            value: java:jboss/datasources/KeycloakDS
          - name: DB_USERNAME
            value: usert0B
          - name: DB_PASSWORD
            value: viiR0aFJ
          - name: DB_DATABASE
            value: root
          - name: TX_DATABASE_PREFIX_MAPPING
            value: sso-mysql=DB
          - name: DB_MIN_POOL_SIZE
          - name: DB_MAX_POOL_SIZE
          - name: DB_TX_ISOLATION
          - name: OPENSHIFT_KUBE_PING_LABELS
            value: application=sso
          - name: OPENSHIFT_KUBE_PING_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: HTTPS_KEYSTORE_DIR
            value: /etc/sso-secret-volume
          - name: HTTPS_KEYSTORE
            value: keystore.jks
          - name: HTTPS_KEYSTORE_TYPE
          - name: HTTPS_NAME
          - name: HTTPS_PASSWORD
            value: redhat123
          - name: JGROUPS_ENCRYPT_SECRET
            value: sso-ssl-secret
          - name: JGROUPS_ENCRYPT_KEYSTORE_DIR
            value: /etc/jgroups-encrypt-secret-volume
          - name: JGROUPS_ENCRYPT_KEYSTORE
            value: jgroups.jceks
          - name: JGROUPS_ENCRYPT_NAME
          - name: JGROUPS_ENCRYPT_PASSWORD
            value: redhat123
          - name: JGROUPS_CLUSTER_PASSWORD
            value: redhat123
          - name: SSO_ADMIN_USERNAME
            value: admin
          - name: SSO_ADMIN_PASSWORD
            value: redhat123
          - name: SSO_REALM
            value: 3Scale
          - name: SSO_SERVICE_USERNAME
          - name: SSO_SERVICE_PASSWORD
          - name: SSO_TRUSTSTORE
            value: truststore.jks
          - name: SSO_TRUSTSTORE_DIR
            value: /etc/sso-secret-volume
          - name: SSO_TRUSTSTORE_PASSWORD
            value: redhat123
          image: registry.access.redhat.com/redhat-sso-7/sso71-openshift@sha256:8c8aa52c1dc52cb3fe19ab9df5d129e3dc8bae754fb3a84d5194b445071b0ca8
          imagePullPolicy: Always
          lifecycle:
            preStop:
              exec:
                command:
                - /opt/eap/bin/jboss-cli.sh
                - -c
                - :shutdown(timeout=60)
          livenessProbe:
            exec:
              command:
              - /bin/bash
              - -c
              - /opt/eap/bin/livenessProbe.sh
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: sso
          ports:
          - containerPort: 8778
            name: jolokia
            protocol: TCP
          - containerPort: 8080
            name: http
            protocol: TCP
          - containerPort: 8443
            name: https
            protocol: TCP
          - containerPort: 8888
            name: ping
            protocol: TCP
          readinessProbe:
            exec:
              command:
              - /bin/bash
              - -c
              - /opt/eap/bin/readinessProbe.sh
            failureThreshold: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/eap-secret-volume
            name: eap-keystore-volume
            readOnly: true
          - mountPath: /etc/jgroups-encrypt-secret-volume
            name: eap-jgroups-keystore-volume
            readOnly: true
          - mountPath: /etc/sso-secret-volume
            name: sso-truststore-volume
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: sso-service-account
        serviceAccountName: sso-service-account
        terminationGracePeriodSeconds: 75
        volumes:
        - name: eap-keystore-volume
          secret:
            defaultMode: 420
            secretName: sso-ssl-secret
        - name: eap-jgroups-keystore-volume
          secret:
            defaultMode: 420
            secretName: sso-ssl-secret
        - name: sso-truststore-volume
          secret:
            defaultMode: 420
            secretName: sso-ssl-secret
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 10:28:34 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 10:26:13 +0000 UTC
      openshift.io/deployer-pod.name: sso-5-deploy
      openshift.io/deployment-config.latest-version: "5"
      openshift.io/deployment-config.name: sso
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"sso","namespace":"sso","selfLink":"/apis/apps.openshift.io/v1/namespaces/sso/deploymentconfigs/sso","uid":"f29670c9-0735-11e8-9e1b-5254002f83b4","resourceVersion":"241517451","generation":6,"creationTimestamp":"2018-02-01T09:54:51Z","labels":{"app":"sso71-mysql-persistent","application":"sso","template":"sso71-mysql-persistent","xpaas":"1.4.7"}},"spec":{"strategy":{"type":"Recreate","recreateParams":{"timeoutSeconds":600},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["sso"],"from":{"kind":"ImageStreamTag","namespace":"openshift","name":"redhat-sso71-openshift:1.2"},"lastTriggeredImage":"registry.access.redhat.com/redhat-sso-7/sso71-openshift@sha256:8c8aa52c1dc52cb3fe19ab9df5d129e3dc8bae754fb3a84d5194b445071b0ca8"}},{"type":"ConfigChange"}],"replicas":1,"test":false,"selector":{"deploymentConfig":"sso"},"template":{"metadata":{"name":"sso","creationTimestamp":null,"labels":{"application":"sso","deploymentConfig":"sso"}},"spec":{"volumes":[{"name":"eap-keystore-volume","secret":{"secretName":"sso-ssl-secret","defaultMode":420}},{"name":"eap-jgroups-keystore-volume","secret":{"secretName":"sso-ssl-secret","defaultMode":420}},{"name":"sso-truststore-volume","secret":{"secretName":"sso-ssl-secret","defaultMode":420}}],"containers":[{"name":"sso","image":"registry.access.redhat.com/redhat-sso-7/sso71-openshift@sha256:8c8aa52c1dc52cb3fe19ab9df5d129e3dc8bae754fb3a84d5194b445071b0ca8","ports":[{"name":"jolokia","containerPort":8778,"protocol":"TCP"},{"name":"http","containerPort":8080,"protocol":"TCP"},{"name":"https","containerPort":8443,"protocol":"TCP"},{"name":"ping","containerPort":8888,"protocol":"TCP"}],"env":[{"name":"DB_SERVICE_PREFIX_MAPPING","value":"sso-mysql=DB"},{"name":"DB_JNDI","value":"java:jboss/datasources/KeycloakDS"},{"name":"DB_USERNAME","value":"usert0B"},{"name":"DB_PASSWORD","value":"viiR0aFJ"},{"name":"DB_DATABASE","value":"root"},{"name":"TX_DATABASE_PREFIX_MAPPING","value":"sso-mysql=DB"},{"name":"DB_MIN_POOL_SIZE"},{"name":"DB_MAX_POOL_SIZE"},{"name":"DB_TX_ISOLATION"},{"name":"OPENSHIFT_KUBE_PING_LABELS","value":"application=sso"},{"name":"OPENSHIFT_KUBE_PING_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"HTTPS_KEYSTORE_DIR","value":"/etc/sso-secret-volume"},{"name":"HTTPS_KEYSTORE","value":"sso-https.jks"},{"name":"HTTPS_KEYSTORE_TYPE"},{"name":"HTTPS_NAME"},{"name":"HTTPS_PASSWORD","value":"redhat123"},{"name":"JGROUPS_ENCRYPT_SECRET","value":"sso-ssl-secret"},{"name":"JGROUPS_ENCRYPT_KEYSTORE_DIR","value":"/etc/jgroups-encrypt-secret-volume"},{"name":"JGROUPS_ENCRYPT_KEYSTORE","value":"jgroups.jceks"},{"name":"JGROUPS_ENCRYPT_NAME"},{"name":"JGROUPS_ENCRYPT_PASSWORD","value":"redhat123"},{"name":"JGROUPS_CLUSTER_PASSWORD","value":"redhat123"},{"name":"SSO_ADMIN_USERNAME","value":"admin"},{"name":"SSO_ADMIN_PASSWORD","value":"redhat123"},{"name":"SSO_REALM","value":"3Scale"},{"name":"SSO_SERVICE_USERNAME"},{"name":"SSO_SERVICE_PASSWORD"},{"name":"SSO_TRUSTSTORE","value":"truststore.jks"},{"name":"SSO_TRUSTSTORE_DIR","value":"/etc/sso-secret-volume"},{"name":"SSO_TRUSTSTORE_PASSWORD","value":"redhat123"}],"resources":{},"volumeMounts":[{"name":"eap-keystore-volume","readOnly":true,"mountPath":"/etc/eap-secret-volume"},{"name":"eap-jgroups-keystore-volume","readOnly":true,"mountPath":"/etc/jgroups-encrypt-secret-volume"},{"name":"sso-truststore-volume","readOnly":true,"mountPath":"/etc/sso-secret-volume"}],"livenessProbe":{"exec":{"command":["/bin/bash","-c","/opt/eap/bin/livenessProbe.sh"]},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/bash","-c","/opt/eap/bin/readinessProbe.sh"]},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/opt/eap/bin/jboss-cli.sh","-c",":shutdown(timeout=60)"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":75,"dnsPolicy":"ClusterFirst","serviceAccountName":"sso-service-account","serviceAccount":"sso-service-account","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":5,"observedGeneration":6,"replicas":1,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":1,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T09:54:52Z","lastTransitionTime":"2018-02-01T09:54:52Z","message":"Deployment config does not have minimum availability."},{"type":"Progressing","status":"Unknown","lastUpdateTime":"2018-02-01T10:22:19Z","lastTransitionTime":"2018-02-01T10:22:19Z","message":"replication controller \"sso-4\" is waiting for pod \"sso-4-deploy\" to run"}]}}
    creationTimestamp: null
    generation: 1
    labels:
      app: sso71-mysql-persistent
      application: sso
      openshift.io/deployment-config.name: sso
      template: sso71-mysql-persistent
      xpaas: 1.4.7
    name: sso-5
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: sso
      uid: f29670c9-0735-11e8-9e1b-5254002f83b4
  spec:
    replicas: 1
    selector:
      deployment: sso-5
      deploymentConfig: sso
      deploymentconfig: sso
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "5"
          openshift.io/deployment-config.name: sso
          openshift.io/deployment.name: sso-5
        creationTimestamp: null
        labels:
          application: sso
          deployment: sso-5
          deploymentConfig: sso
          deploymentconfig: sso
      spec:
        containers:
        - env:
          - name: DB_SERVICE_PREFIX_MAPPING
            value: sso-mysql=DB
          - name: DB_JNDI
            value: java:jboss/datasources/KeycloakDS
          - name: DB_USERNAME
            value: usert0B
          - name: DB_PASSWORD
            value: viiR0aFJ
          - name: DB_DATABASE
            value: root
          - name: TX_DATABASE_PREFIX_MAPPING
            value: sso-mysql=DB
          - name: DB_MIN_POOL_SIZE
          - name: DB_MAX_POOL_SIZE
          - name: DB_TX_ISOLATION
          - name: OPENSHIFT_KUBE_PING_LABELS
            value: application=sso
          - name: OPENSHIFT_KUBE_PING_NAMESPACE
            valueFrom:
              fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
          - name: HTTPS_KEYSTORE_DIR
            value: /etc/sso-secret-volume
          - name: HTTPS_KEYSTORE
            value: sso-https.jks
          - name: HTTPS_KEYSTORE_TYPE
          - name: HTTPS_NAME
          - name: HTTPS_PASSWORD
            value: redhat123
          - name: JGROUPS_ENCRYPT_SECRET
            value: sso-ssl-secret
          - name: JGROUPS_ENCRYPT_KEYSTORE_DIR
            value: /etc/jgroups-encrypt-secret-volume
          - name: JGROUPS_ENCRYPT_KEYSTORE
            value: jgroups.jceks
          - name: JGROUPS_ENCRYPT_NAME
          - name: JGROUPS_ENCRYPT_PASSWORD
            value: redhat123
          - name: JGROUPS_CLUSTER_PASSWORD
            value: redhat123
          - name: SSO_ADMIN_USERNAME
            value: admin
          - name: SSO_ADMIN_PASSWORD
            value: redhat123
          - name: SSO_REALM
            value: 3Scale
          - name: SSO_SERVICE_USERNAME
          - name: SSO_SERVICE_PASSWORD
          - name: SSO_TRUSTSTORE
            value: truststore.jks
          - name: SSO_TRUSTSTORE_DIR
            value: /etc/sso-secret-volume
          - name: SSO_TRUSTSTORE_PASSWORD
            value: redhat123
          image: registry.access.redhat.com/redhat-sso-7/sso71-openshift@sha256:8c8aa52c1dc52cb3fe19ab9df5d129e3dc8bae754fb3a84d5194b445071b0ca8
          imagePullPolicy: Always
          lifecycle:
            preStop:
              exec:
                command:
                - /opt/eap/bin/jboss-cli.sh
                - -c
                - :shutdown(timeout=60)
          livenessProbe:
            exec:
              command:
              - /bin/bash
              - -c
              - /opt/eap/bin/livenessProbe.sh
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          name: sso
          ports:
          - containerPort: 8778
            name: jolokia
            protocol: TCP
          - containerPort: 8080
            name: http
            protocol: TCP
          - containerPort: 8443
            name: https
            protocol: TCP
          - containerPort: 8888
            name: ping
            protocol: TCP
          readinessProbe:
            exec:
              command:
              - /bin/bash
              - -c
              - /opt/eap/bin/readinessProbe.sh
            failureThreshold: 3
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/eap-secret-volume
            name: eap-keystore-volume
            readOnly: true
          - mountPath: /etc/jgroups-encrypt-secret-volume
            name: eap-jgroups-keystore-volume
            readOnly: true
          - mountPath: /etc/sso-secret-volume
            name: sso-truststore-volume
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: sso-service-account
        serviceAccountName: sso-service-account
        terminationGracePeriodSeconds: 75
        volumes:
        - name: eap-keystore-volume
          secret:
            defaultMode: 420
            secretName: sso-ssl-secret
        - name: eap-jgroups-keystore-volume
          secret:
            defaultMode: 420
            secretName: sso-ssl-secret
        - name: sso-truststore-volume
          secret:
            defaultMode: 420
            secretName: sso-ssl-secret
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 10:04:25 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 09:54:53 +0000 UTC
      openshift.io/deployer-pod.name: sso-mysql-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: sso-mysql
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"sso-mysql","namespace":"sso","selfLink":"/apis/apps.openshift.io/v1/namespaces/sso/deploymentconfigs/sso-mysql","uid":"f2967990-0735-11e8-9e1b-5254002f83b4","resourceVersion":"241404769","generation":2,"creationTimestamp":"2018-02-01T09:54:51Z","labels":{"app":"sso71-mysql-persistent","application":"sso","template":"sso71-mysql-persistent","xpaas":"1.4.7"}},"spec":{"strategy":{"type":"Recreate","recreateParams":{"timeoutSeconds":600},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["sso-mysql"],"from":{"kind":"ImageStreamTag","namespace":"openshift","name":"mysql:5.7"},"lastTriggeredImage":"registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:3abe773161b613b57f653c10ea1019ef7d9a05b2313390a8627be74df98dae77"}},{"type":"ConfigChange"}],"replicas":1,"test":false,"selector":{"deploymentConfig":"sso-mysql"},"template":{"metadata":{"name":"sso-mysql","creationTimestamp":null,"labels":{"application":"sso","deploymentConfig":"sso-mysql"}},"spec":{"volumes":[{"name":"sso-mysql-pvol","persistentVolumeClaim":{"claimName":"sso-mysql-claim"}}],"containers":[{"name":"sso-mysql","image":"registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:3abe773161b613b57f653c10ea1019ef7d9a05b2313390a8627be74df98dae77","ports":[{"containerPort":3306,"protocol":"TCP"}],"env":[{"name":"MYSQL_USER","value":"usert0B"},{"name":"MYSQL_PASSWORD","value":"viiR0aFJ"},{"name":"MYSQL_DATABASE","value":"root"},{"name":"MYSQL_LOWER_CASE_TABLE_NAMES"},{"name":"MYSQL_MAX_CONNECTIONS"},{"name":"MYSQL_FT_MIN_WORD_LEN"},{"name":"MYSQL_FT_MAX_WORD_LEN"},{"name":"MYSQL_AIO"}],"resources":{},"volumeMounts":[{"name":"sso-mysql-pvol","mountPath":"/var/lib/mysql/data"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":60,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T09:54:51Z","lastTransitionTime":"2018-02-01T09:54:51Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      app: sso71-mysql-persistent
      application: sso
      openshift.io/deployment-config.name: sso-mysql
      template: sso71-mysql-persistent
      xpaas: 1.4.7
    name: sso-mysql-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: sso-mysql
      uid: f2967990-0735-11e8-9e1b-5254002f83b4
  spec:
    replicas: 1
    selector:
      deployment: sso-mysql-1
      deploymentConfig: sso-mysql
      deploymentconfig: sso-mysql
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: sso-mysql
          openshift.io/deployment.name: sso-mysql-1
        creationTimestamp: null
        labels:
          application: sso
          deployment: sso-mysql-1
          deploymentConfig: sso-mysql
          deploymentconfig: sso-mysql
      spec:
        containers:
        - env:
          - name: MYSQL_USER
            value: usert0B
          - name: MYSQL_PASSWORD
            value: viiR0aFJ
          - name: MYSQL_DATABASE
            value: root
          - name: MYSQL_LOWER_CASE_TABLE_NAMES
          - name: MYSQL_MAX_CONNECTIONS
          - name: MYSQL_FT_MIN_WORD_LEN
          - name: MYSQL_FT_MAX_WORD_LEN
          - name: MYSQL_AIO
          image: registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:3abe773161b613b57f653c10ea1019ef7d9a05b2313390a8627be74df98dae77
          imagePullPolicy: Always
          name: sso-mysql
          ports:
          - containerPort: 3306
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/mysql/data
            name: sso-mysql-pvol
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 60
        volumes:
        - name: sso-mysql-pvol
          persistentVolumeClaim:
            claimName: sso-mysql-claim
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/desired-replicas: "1"
      openshift.io/deployer-pod.completed-at: 2018-03-01 15:12:25 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-03-01 14:52:17 +0000 UTC
      openshift.io/deployer-pod.name: sso-mysql-2-deploy
      openshift.io/deployment-config.latest-version: "2"
      openshift.io/deployment-config.name: sso-mysql
      openshift.io/deployment.phase: Failed
      openshift.io/deployment.replicas: "0"
      openshift.io/deployment.status-reason: manual change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"sso-mysql","namespace":"sso","selfLink":"/apis/apps.openshift.io/v1/namespaces/sso/deploymentconfigs/sso-mysql","uid":"f2967990-0735-11e8-9e1b-5254002f83b4","resourceVersion":"379533037","generation":3,"creationTimestamp":"2018-02-01T09:54:51Z","labels":{"app":"sso71-mysql-persistent","application":"sso","template":"sso71-mysql-persistent","xpaas":"1.4.7"}},"spec":{"strategy":{"type":"Recreate","recreateParams":{"timeoutSeconds":600},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["sso-mysql"],"from":{"kind":"ImageStreamTag","namespace":"openshift","name":"mysql:5.7"},"lastTriggeredImage":"registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:3abe773161b613b57f653c10ea1019ef7d9a05b2313390a8627be74df98dae77"}},{"type":"ConfigChange"}],"replicas":1,"test":false,"selector":{"deploymentConfig":"sso-mysql"},"template":{"metadata":{"name":"sso-mysql","creationTimestamp":null,"labels":{"application":"sso","deploymentConfig":"sso-mysql"}},"spec":{"volumes":[{"name":"sso-mysql-pvol","persistentVolumeClaim":{"claimName":"sso-mysql-claim"}}],"containers":[{"name":"sso-mysql","image":"registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:3abe773161b613b57f653c10ea1019ef7d9a05b2313390a8627be74df98dae77","ports":[{"containerPort":3306,"protocol":"TCP"}],"env":[{"name":"MYSQL_USER","value":"usert0B"},{"name":"MYSQL_PASSWORD","value":"viiR0aFJ"},{"name":"MYSQL_DATABASE","value":"root"},{"name":"MYSQL_LOWER_CASE_TABLE_NAMES"},{"name":"MYSQL_MAX_CONNECTIONS"},{"name":"MYSQL_FT_MIN_WORD_LEN"},{"name":"MYSQL_FT_MAX_WORD_LEN"},{"name":"MYSQL_AIO"}],"resources":{},"volumeMounts":[{"name":"sso-mysql-pvol","mountPath":"/var/lib/mysql/data"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":60,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":2,"observedGeneration":2,"replicas":1,"updatedReplicas":1,"availableReplicas":0,"unavailableReplicas":1,"details":{"message":"manual change","causes":[{"type":"Manual"}]},"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2018-02-01T10:04:26Z","lastTransitionTime":"2018-02-01T10:04:26Z","reason":"NewReplicationControllerAvailable","message":"replication controller \"sso-mysql-1\" successfully rolled out"},{"type":"Available","status":"False","lastUpdateTime":"2018-03-01T14:45:39Z","lastTransitionTime":"2018-03-01T14:45:39Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      app: sso71-mysql-persistent
      application: sso
      openshift.io/deployment-config.name: sso-mysql
      template: sso71-mysql-persistent
      xpaas: 1.4.7
    name: sso-mysql-2
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: sso-mysql
      uid: f2967990-0735-11e8-9e1b-5254002f83b4
  spec:
    replicas: 0
    selector:
      deployment: sso-mysql-2
      deploymentConfig: sso-mysql
      deploymentconfig: sso-mysql
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "2"
          openshift.io/deployment-config.name: sso-mysql
          openshift.io/deployment.name: sso-mysql-2
        creationTimestamp: null
        labels:
          application: sso
          deployment: sso-mysql-2
          deploymentConfig: sso-mysql
          deploymentconfig: sso-mysql
      spec:
        containers:
        - env:
          - name: MYSQL_USER
            value: usert0B
          - name: MYSQL_PASSWORD
            value: viiR0aFJ
          - name: MYSQL_DATABASE
            value: root
          - name: MYSQL_LOWER_CASE_TABLE_NAMES
          - name: MYSQL_MAX_CONNECTIONS
          - name: MYSQL_FT_MIN_WORD_LEN
          - name: MYSQL_FT_MAX_WORD_LEN
          - name: MYSQL_AIO
          image: registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:3abe773161b613b57f653c10ea1019ef7d9a05b2313390a8627be74df98dae77
          imagePullPolicy: Always
          name: sso-mysql
          ports:
          - containerPort: 3306
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/mysql/data
            name: sso-mysql-pvol
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 60
        volumes:
        - name: sso-mysql-pvol
          persistentVolumeClaim:
            claimName: sso-mysql-claim
  status:
    replicas: 0
- apiVersion: v1
  kind: Service
  metadata:
    creationTimestamp: null
    labels:
      gluster.kubernetes.io/provisioned-for-pvc: sso-mysql-claim
    name: glusterfs-dynamic-sso-mysql-claim
  spec:
    ports:
    - port: 1
      protocol: TCP
      targetPort: 1
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      description: The web server's https port.
      service.alpha.openshift.io/dependencies: '[{"name": "sso-mysql", "kind": "Service"}]'
    creationTimestamp: null
    labels:
      app: sso71-mysql-persistent
      application: sso
      template: sso71-mysql-persistent
      xpaas: 1.4.7
    name: secure-sso
  spec:
    ports:
    - port: 8443
      protocol: TCP
      targetPort: 8443
    selector:
      deploymentConfig: sso
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      description: The web server's http port.
      service.alpha.openshift.io/dependencies: '[{"name": "sso-mysql", "kind": "Service"}]'
    creationTimestamp: null
    labels:
      app: sso71-mysql-persistent
      application: sso
      template: sso71-mysql-persistent
      xpaas: 1.4.7
    name: sso
  spec:
    ports:
    - port: 8080
      protocol: TCP
      targetPort: 8080
    selector:
      deploymentConfig: sso
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      description: The database server's port.
    creationTimestamp: null
    labels:
      app: sso71-mysql-persistent
      application: sso
      template: sso71-mysql-persistent
      xpaas: 1.4.7
    name: sso-mysql
  spec:
    ports:
    - port: 3306
      protocol: TCP
      targetPort: 3306
    selector:
      deploymentConfig: sso-mysql
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
kind: List
metadata: {}
