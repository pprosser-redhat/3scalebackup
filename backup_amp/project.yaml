apiVersion: v1
items:
- apiVersion: v1
  kind: ImageStream
  metadata:
    annotations:
      openshift.io/display-name: AMP APIcast
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/image.dockerRepositoryCheck: 2018-02-01T14:35:44Z
    creationTimestamp: null
    generation: 2
    name: amp-apicast
  spec:
    lookupPolicy:
      local: false
    tags:
    - annotations:
        openshift.io/display-name: AMP APIcast 2.1.0-CR2-redhat-1
      from:
        kind: DockerImage
        name: docker-registry.default.svc:5000/amp/amp-apicast:2.1.0-CR2-redhat-1
      generation: 2
      importPolicy: {}
      name: 2.1.0-CR2-redhat-1
      referencePolicy:
        type: Source
    - annotations:
        openshift.io/display-name: AMP APIcast (latest)
      from:
        kind: DockerImage
        name: docker-registry.default.svc:5000/amp/amp-apicast:latest
      generation: 1
      importPolicy: {}
      name: latest
      referencePolicy:
        type: Source
  status:
    dockerImageRepository: ""
- apiVersion: v1
  kind: ImageStream
  metadata:
    annotations:
      openshift.io/display-name: AMP backend
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/image.dockerRepositoryCheck: 2018-02-01T14:35:44Z
    creationTimestamp: null
    generation: 2
    name: amp-backend
  spec:
    lookupPolicy:
      local: false
    tags:
    - annotations:
        openshift.io/display-name: amp-backend 2.1.0-CR2-redhat-1
      from:
        kind: DockerImage
        name: docker-registry.default.svc:5000/amp/amp-backend:2.1.0-CR2-redhat-1
      generation: 2
      importPolicy: {}
      name: 2.1.0-CR2-redhat-1
      referencePolicy:
        type: Source
    - annotations:
        openshift.io/display-name: amp-backend (latest)
      from:
        kind: DockerImage
        name: docker-registry.default.svc:5000/amp/amp-backend:latest
      generation: 1
      importPolicy: {}
      name: latest
      referencePolicy:
        type: Source
  status:
    dockerImageRepository: ""
- apiVersion: v1
  kind: ImageStream
  metadata:
    annotations:
      openshift.io/display-name: AMP System
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/image.dockerRepositoryCheck: 2018-02-01T14:35:44Z
    creationTimestamp: null
    generation: 2
    name: amp-system
  spec:
    lookupPolicy:
      local: false
    tags:
    - annotations:
        openshift.io/display-name: AMP system 2.1.0-CR2-redhat-1
      from:
        kind: DockerImage
        name: docker-registry.default.svc:5000/amp/amp-system:2.1.0-CR2-redhat-1
      generation: 2
      importPolicy: {}
      name: 2.1.0-CR2-redhat-1
      referencePolicy:
        type: Source
    - annotations:
        openshift.io/display-name: AMP System (latest)
      from:
        kind: DockerImage
        name: docker-registry.default.svc:5000/amp/amp-system:latest
      generation: 1
      importPolicy: {}
      name: latest
      referencePolicy:
        type: Source
  status:
    dockerImageRepository: ""
- apiVersion: v1
  kind: ImageStream
  metadata:
    annotations:
      openshift.io/display-name: AMP APIcast Wildcard Router
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/image.dockerRepositoryCheck: 2018-02-01T14:35:44Z
    creationTimestamp: null
    generation: 2
    name: amp-wildcard-router
  spec:
    lookupPolicy:
      local: false
    tags:
    - annotations:
        openshift.io/display-name: AMP APIcast Wildcard Router 2.1.0-CR2-redhat-1
      from:
        kind: DockerImage
        name: docker-registry.default.svc:5000/amp/amp-wildcard-router:2.1.0-CR2-redhat-1
      generation: 2
      importPolicy: {}
      name: 2.1.0-CR2-redhat-1
      referencePolicy:
        type: Source
    - annotations:
        openshift.io/display-name: AMP APIcast Wildcard Router (latest)
      from:
        kind: DockerImage
        name: docker-registry.default.svc:5000/amp/amp-wildcard-router:latest
      generation: 1
      importPolicy: {}
      name: latest
      referencePolicy:
        type: Source
  status:
    dockerImageRepository: ""
- apiVersion: v1
  kind: ImageStream
  metadata:
    annotations:
      openshift.io/display-name: AMP Zync
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/image.dockerRepositoryCheck: 2018-02-01T14:35:44Z
    creationTimestamp: null
    generation: 2
    labels:
      app: zync
    name: amp-zync
  spec:
    lookupPolicy:
      local: false
    tags:
    - annotations:
        openshift.io/display-name: AMP Zync 2.1.0-CR2-redhat-1
      from:
        kind: DockerImage
        name: docker-registry.default.svc:5000/amp/amp-zync:2.1.0-CR2-redhat-1
      generation: 2
      importPolicy: {}
      name: 2.1.0-CR2-redhat-1
      referencePolicy:
        type: Source
    - annotations:
        openshift.io/display-name: AMP Zync (latest)
      from:
        kind: DockerImage
        name: docker-registry.default.svc:5000/amp/amp-zync:latest
      generation: 1
      importPolicy: {}
      name: latest
      referencePolicy:
        type: Source
  status:
    dockerImageRepository: ""
- apiVersion: v1
  kind: ImageStream
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/image.dockerRepositoryCheck: 2018-02-01T14:35:46Z
    creationTimestamp: null
    generation: 2
    name: postgresql
  spec:
    lookupPolicy:
      local: false
    tags:
    - annotations: null
      from:
        kind: DockerImage
        name: docker-registry.default.svc:5000/amp/postgresql:9.5
      generation: 2
      importPolicy: {}
      name: "9.5"
      referencePolicy:
        type: Source
  status:
    dockerImageRepository: ""
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: apicast-production
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      deploymentconfig: apicast-production
    strategy:
      activeDeadlineSeconds: 21600
      resources: {}
      rollingParams:
        intervalSeconds: 1
        maxSurge: 25%
        maxUnavailable: 25%
        timeoutSeconds: 1800
        updatePeriodSeconds: 1
      type: Rolling
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deploymentconfig: apicast-production
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            value: http://ohnchca2@system-provider:3000
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_CONFIGURATION_CACHE
            value: "300"
          - name: THREESCALE_DEPLOYMENT_ENV
            value: production
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: BACKEND_ENDPOINT_OVERRIDE
            value: http://backend-listener:3000
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "true"
          - name: REDIS_URL
            value: redis://system-redis:6379/1
          image: registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-production
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 8090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - apicast-production
        from:
          kind: ImageStreamTag
          name: amp-apicast:latest
          namespace: amp
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: apicast-staging
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      deploymentconfig: apicast-staging
    strategy:
      activeDeadlineSeconds: 21600
      resources: {}
      rollingParams:
        intervalSeconds: 1
        maxSurge: 25%
        maxUnavailable: 25%
        timeoutSeconds: 1800
        updatePeriodSeconds: 1
      type: Rolling
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deploymentconfig: apicast-staging
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            value: http://ohnchca2@system-provider:3000
          - name: APICAST_CONFIGURATION_LOADER
            value: lazy
          - name: APICAST_CONFIGURATION_CACHE
            value: "0"
          - name: THREESCALE_DEPLOYMENT_ENV
            value: sandbox
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: BACKEND_ENDPOINT_OVERRIDE
            value: http://backend-listener:3000
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "true"
          - name: REDIS_URL
            value: redis://system-redis:6379/2
          image: registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-staging
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 8090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - apicast-staging
        from:
          kind: ImageStreamTag
          name: amp-apicast:latest
          namespace: amp
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: apicast-wildcard-router
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      deploymentconfig: apicast-wildcard-router
    strategy:
      activeDeadlineSeconds: 21600
      resources: {}
      rollingParams:
        intervalSeconds: 1
        maxSurge: 25%
        maxUnavailable: 25%
        timeoutSeconds: 1800
        updatePeriodSeconds: 1
      type: Rolling
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deploymentconfig: apicast-wildcard-router
      spec:
        containers:
        - env:
          - name: API_HOST
            value: http://system-provider:3000
          - name: ACCESS_TOKEN
            value: ohnchca2
          image: registry.access.redhat.com/3scale-amp21/wildcard-router@sha256:bb08c3f5c1e573018fa69ebb34d841ea054638744289235c6bf862c1c81b176f
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: http
            timeoutSeconds: 1
          name: apicast-wildcard-router
          ports:
          - containerPort: 8080
            name: http
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - apicast-wildcard-router
        from:
          kind: ImageStreamTag
          name: amp-wildcard-router:latest
          namespace: amp
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: backend-cron
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      name: backend-cron
    strategy:
      activeDeadlineSeconds: 21600
      resources: {}
      rollingParams:
        intervalSeconds: 1
        maxSurge: 25%
        maxUnavailable: 25%
        timeoutSeconds: 600
        updatePeriodSeconds: 1
      type: Rolling
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          name: backend-cron
      spec:
        containers:
        - args:
          - backend-cron
          env:
          - name: CONFIG_REDIS_PROXY
            value: backend-redis:6379
          - name: CONFIG_QUEUES_MASTER_NAME
            value: backend-redis:6379/1
          - name: RACK_ENV
            value: production
          image: registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842
          imagePullPolicy: Always
          name: backend-cron
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - backend-cron
        from:
          kind: ImageStreamTag
          name: amp-backend:latest
          namespace: amp
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: backend-listener
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      name: backend-listener
    strategy:
      activeDeadlineSeconds: 21600
      resources: {}
      rollingParams:
        intervalSeconds: 1
        maxSurge: 25%
        maxUnavailable: 25%
        timeoutSeconds: 600
        updatePeriodSeconds: 1
      type: Rolling
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          name: backend-listener
      spec:
        containers:
        - args:
          - bin/3scale_backend
          - start
          - -e
          - production
          - -p
          - "3000"
          - -x
          - /dev/stdout
          env:
          - name: CONFIG_REDIS_PROXY
            value: backend-redis:6379
          - name: CONFIG_QUEUES_MASTER_NAME
            value: backend-redis:6379/1
          - name: RACK_ENV
            value: production
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          image: registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 3000
            timeoutSeconds: 1
          name: backend-listener
          ports:
          - containerPort: 3000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status
              port: 3000
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - backend-listener
        from:
          kind: ImageStreamTag
          name: amp-backend:latest
          namespace: amp
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: backend-redis
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      name: backend-redis
    strategy:
      activeDeadlineSeconds: 21600
      recreateParams:
        timeoutSeconds: 600
      resources: {}
      type: Recreate
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          name: backend-redis
      spec:
        containers:
        - image: rhscl/redis-32-rhel7:3.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 6379
            timeoutSeconds: 1
          name: backend-redis
          readinessProbe:
            exec:
              command:
              - container-entrypoint
              - bash
              - -c
              - redis-cli set liveness-probe "`date`" | grep OK
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/redis/data
            name: backend-redis-storage
          - mountPath: /etc/redis.conf
            name: redis-config
            subPath: redis.conf
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: backend-redis-storage
          persistentVolumeClaim:
            claimName: backend-redis-storage
        - configMap:
            defaultMode: 420
            items:
            - key: redis.conf
              path: redis.conf
            name: redis-config
          name: redis-config
    test: false
    triggers:
    - type: ConfigChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: backend-worker
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      name: backend-worker
    strategy:
      activeDeadlineSeconds: 21600
      resources: {}
      rollingParams:
        intervalSeconds: 1
        maxSurge: 25%
        maxUnavailable: 25%
        timeoutSeconds: 600
        updatePeriodSeconds: 1
      type: Rolling
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          name: backend-worker
      spec:
        containers:
        - args:
          - bin/3scale_backend_worker
          - run
          env:
          - name: CONFIG_REDIS_PROXY
            value: backend-redis:6379
          - name: CONFIG_QUEUES_MASTER_NAME
            value: backend-redis:6379/1
          - name: RACK_ENV
            value: production
          - name: CONFIG_EVENTS_HOOK
            value: http://system-provider:3000/master/events/import
          - name: CONFIG_EVENTS_HOOK_SHARED_SECRET
            value: 084qnjji
          image: registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842
          imagePullPolicy: Always
          name: backend-worker
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - backend-worker
        from:
          kind: ImageStreamTag
          name: amp-backend:latest
          namespace: amp
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: system-app
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      name: system-app
    strategy:
      activeDeadlineSeconds: 21600
      resources: {}
      rollingParams:
        intervalSeconds: 1
        maxSurge: 25%
        maxUnavailable: 25%
        post:
          execNewPod:
            command:
            - bash
            - -c
            - bundle exec rake boot openshift:post_deploy
            containerName: system-provider
          failurePolicy: Abort
        pre:
          execNewPod:
            command:
            - bash
            - -c
            - bundle exec rake boot openshift:deploy
            containerName: system-provider
            env:
            - name: RAILS_ENV
              value: production
            - name: DATABASE_URL
              value: mysql2://root:5sgo1wvm@system-mysql/system
            - name: FORCE_SSL
              value: "true"
            - name: THREESCALE_SUPERDOMAIN
              value: apps.demolab.local
            - name: TENANT_NAME
              value: 3scale
            - name: APICAST_ACCESS_TOKEN
              value: ohnchca2
            - name: ADMIN_ACCESS_TOKEN
              value: a6c778iyvfi8bxa3
            - name: PROVIDER_PLAN
              value: enterprise
            - name: USER_LOGIN
              value: admin
            - name: USER_PASSWORD
              value: 7ymhr3cu
            - name: RAILS_LOG_TO_STDOUT
              value: "true"
            - name: RAILS_LOG_LEVEL
              value: info
            - name: THINKING_SPHINX_ADDRESS
              value: system-sphinx
            - name: THINKING_SPHINX_PORT
              value: "9306"
            - name: THINKING_SPHINX_CONFIGURATION_FILE
              value: /tmp/sphinx.conf
            - name: EVENTS_SHARED_SECRET
              value: 084qnjji
            - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
              value: VERIFY_NONE
            - name: APICAST_BACKEND_ROOT_ENDPOINT
              value: https://backend-3scale.apps.demolab.local
            - name: CONFIG_INTERNAL_API_USER
              value: 3scale_api_user
            - name: CONFIG_INTERNAL_API_PASSWORD
              value: yrwkkmu6
            - name: SECRET_KEY_BASE
              value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
            - name: ZYNC_AUTHENTICATION_TOKEN
              valueFrom:
                secretKeyRef:
                  key: ZYNC_AUTHENTICATION_TOKEN
                  name: zync
            - name: SMTP_ADDRESS
              valueFrom:
                configMapKeyRef:
                  key: address
                  name: smtp
            - name: SMTP_USER_NAME
              valueFrom:
                configMapKeyRef:
                  key: username
                  name: smtp
            - name: SMTP_PASSWORD
              valueFrom:
                configMapKeyRef:
                  key: password
                  name: smtp
            - name: SMTP_DOMAIN
              valueFrom:
                configMapKeyRef:
                  key: domain
                  name: smtp
            - name: SMTP_PORT
              valueFrom:
                configMapKeyRef:
                  key: port
                  name: smtp
            - name: SMTP_AUTHENTICATION
              valueFrom:
                configMapKeyRef:
                  key: authentication
                  name: smtp
            - name: SMTP_OPENSSL_VERIFY_MODE
              valueFrom:
                configMapKeyRef:
                  key: openssl.verify.mode
                  name: smtp
            - name: BACKEND_ROUTE
              value: https://backend-3scale.apps.demolab.local
            - name: SSL_CERT_DIR
              value: /etc/pki/tls/certs
            volumes:
            - system-storage
          failurePolicy: Retry
        timeoutSeconds: 600
        updatePeriodSeconds: 1
      type: Rolling
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          name: system-app
      spec:
        containers:
        - command:
          - env
          - TENANT_MODE=provider
          - PORT=3000
          - container-entrypoint
          - bundle
          - exec
          - unicorn
          - -c
          - config/unicorn.rb
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "false"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 20
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: provider
            timeoutSeconds: 10
          name: system-provider
          ports:
          - containerPort: 3000
            name: provider
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              httpHeaders:
              - name: X-Forwarded-Proto
                value: https
              path: /check.txt
              port: provider
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 10
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
          - mountPath: /opt/system/config/zync.yml
            name: system-config
            subPath: zync.yml
          - mountPath: /opt/system/config/rolling_updates.yml
            name: system-config
            subPath: rolling_updates.yml
        - command:
          - env
          - TENANT_MODE=developer
          - PORT=3001
          - container-entrypoint
          - bundle
          - exec
          - unicorn
          - -c
          - config/unicorn.rb
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 20
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: developer
            timeoutSeconds: 10
          name: system-developer
          ports:
          - containerPort: 3001
            name: developer
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              httpHeaders:
              - name: X-Forwarded-Proto
                value: https
              path: /check.txt
              port: developer
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 10
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
            readOnly: true
          - mountPath: /opt/system/config/zync.yml
            name: system-config
            subPath: zync.yml
          - mountPath: /opt/system/config/rolling_updates.yml
            name: system-config
            subPath: rolling_updates.yml
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: system-storage
          persistentVolumeClaim:
            claimName: system-storage
        - configMap:
            defaultMode: 420
            items:
            - key: zync.yml
              path: zync.yml
            - key: rolling_updates.yml
              path: rolling_updates.yml
            name: system
          name: system-config
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - system-provider
        - system-developer
        from:
          kind: ImageStreamTag
          name: amp-system:latest
          namespace: amp
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: system-memcache
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      name: system-memcache
    strategy:
      activeDeadlineSeconds: 21600
      resources: {}
      rollingParams:
        intervalSeconds: 1
        maxSurge: 25%
        maxUnavailable: 25%
        timeoutSeconds: 600
        updatePeriodSeconds: 1
      type: Rolling
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          name: system-memcache
      spec:
        containers:
        - command:
          - memcached
          - -m
          - "64"
          image: 3scale-amp20/memcached:1.4.15-8
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 11211
            timeoutSeconds: 1
          name: memcache
          readinessProbe:
            exec:
              command:
              - sh
              - -c
              - echo version | nc $HOSTNAME 11211 | grep VERSION
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
    test: false
    triggers:
    - type: ConfigChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: system-mysql
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      name: system-mysql
    strategy:
      activeDeadlineSeconds: 21600
      recreateParams:
        timeoutSeconds: 600
      resources: {}
      type: Recreate
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          name: system-mysql
      spec:
        containers:
        - env:
          - name: MYSQL_USER
            value: mysql
          - name: MYSQL_PASSWORD
            value: yp5w0ast
          - name: MYSQL_DATABASE
            value: system
          - name: MYSQL_ROOT_PASSWORD
            value: 5sgo1wvm
          - name: MYSQL_LOWER_CASE_TABLE_NAMES
            value: "1"
          image: rhscl/mysql-56-rhel7:5.6
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 3306
            timeoutSeconds: 1
          name: system-mysql
          ports:
          - containerPort: 3306
            protocol: TCP
          readinessProbe:
            exec:
              command:
              - /bin/sh
              - -i
              - -c
              - MYSQL_PWD="$MYSQL_PASSWORD" mysql -h 127.0.0.1 -u $MYSQL_USER -D $MYSQL_DATABASE
                -e 'SELECT 1'
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            limits:
              memory: 2Gi
            requests:
              cpu: "1"
              memory: 1Gi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/mysql/data
            name: mysql-storage
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: mysql-storage
          persistentVolumeClaim:
            claimName: mysql-storage
    test: false
    triggers:
    - type: ConfigChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: system-redis
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      name: system-redis
    strategy:
      activeDeadlineSeconds: 21600
      recreateParams:
        timeoutSeconds: 600
      resources: {}
      type: Recreate
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          name: system-redis
      spec:
        containers:
        - image: rhscl/redis-32-rhel7:3.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 5
            successThreshold: 1
            tcpSocket:
              port: 6379
            timeoutSeconds: 1
          name: system-redis
          readinessProbe:
            exec:
              command:
              - container-entrypoint
              - bash
              - -c
              - redis-cli set liveness-probe "`date`" | grep OK
            failureThreshold: 3
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/redis/data
            name: system-redis-storage
          - mountPath: /etc/redis.conf
            name: redis-config
            subPath: redis.conf
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: system-redis-storage
          persistentVolumeClaim:
            claimName: system-redis-storage
        - configMap:
            defaultMode: 420
            items:
            - key: redis.conf
              path: redis.conf
            name: redis-config
          name: redis-config
    test: false
    triggers:
    - type: ConfigChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: system-resque
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      name: system-resque
    strategy:
      activeDeadlineSeconds: 21600
      resources: {}
      rollingParams:
        intervalSeconds: 1
        maxSurge: 25%
        maxUnavailable: 25%
        timeoutSeconds: 600
        updatePeriodSeconds: 1
      type: Rolling
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          name: system-resque
      spec:
        containers:
        - args:
          - rake
          - resque:work
          - QUEUE=*
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          name: system-resque
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
        - args:
          - rake
          - resque:scheduler
          - QUEUE=*
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          name: system-scheduler
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: system-storage
          persistentVolumeClaim:
            claimName: system-storage
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - system-scheduler
        - system-resque
        from:
          kind: ImageStreamTag
          name: amp-system:latest
          namespace: amp
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: system-sidekiq
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      name: system-sidekiq
    strategy:
      activeDeadlineSeconds: 21600
      resources: {}
      rollingParams:
        intervalSeconds: 1
        maxSurge: 25%
        maxUnavailable: 25%
        timeoutSeconds: 600
        updatePeriodSeconds: 1
      type: Rolling
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          name: system-sidekiq
      spec:
        containers:
        - args:
          - rake
          - sidekiq:worker
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          name: system-sidekiq
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
          - mountPath: /opt/system/config/zync.yml
            name: system-config
            subPath: zync.yml
          - mountPath: /opt/system/config/rolling_updates.yml
            name: system-config
            subPath: rolling_updates.yml
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: system-storage
          persistentVolumeClaim:
            claimName: system-storage
        - configMap:
            defaultMode: 420
            items:
            - key: zync.yml
              path: zync.yml
            - key: rolling_updates.yml
              path: rolling_updates.yml
            name: system
          name: system-config
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - system-sidekiq
        from:
          kind: ImageStreamTag
          name: amp-system:latest
          namespace: amp
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: system-sphinx
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      name: system-sphinx
    strategy:
      activeDeadlineSeconds: 21600
      resources: {}
      rollingParams:
        intervalSeconds: 1
        maxSurge: 25%
        maxUnavailable: 25%
        timeoutSeconds: 600
        updatePeriodSeconds: 1
      type: Rolling
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          name: system-sphinx
      spec:
        containers:
        - args:
          - rake
          - openshift:thinking_sphinx:start
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: THINKING_SPHINX_ADDRESS
            value: 0.0.0.0
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: db/sphinx/production.conf
          - name: THINKING_SPHINX_PID_FILE
            value: db/sphinx/searchd.pid
          - name: DELTA_INDEX_INTERVAL
            value: "5"
          - name: FULL_REINDEX_INTERVAL
            value: "60"
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 60
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 9306
            timeoutSeconds: 1
          name: system-sphinx
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/db/sphinx
            name: system-sphinx-database
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: system-sphinx-database
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - system-sphinx
        from:
          kind: ImageStreamTag
          name: amp-system:latest
          namespace: amp
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    labels:
      app: zync
    name: zync
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      app: zync
      deploymentconfig: zync
    strategy:
      activeDeadlineSeconds: 21600
      resources: {}
      rollingParams:
        intervalSeconds: 1
        maxSurge: 25%
        maxUnavailable: 25%
        timeoutSeconds: 600
        updatePeriodSeconds: 1
      type: Rolling
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          app: zync
          deploymentconfig: zync
      spec:
        containers:
        - env:
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            valueFrom:
              secretKeyRef:
                key: DATABASE_URL
                name: zync
          - name: SECRET_KEY_BASE
            valueFrom:
              secretKeyRef:
                key: SECRET_KEY_BASE
                name: zync
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          image: registry.access.redhat.com/3scale-amp21/zync@sha256:8cdf36d177e81c9e4c3a17950c94245bb662249374d1385231afd63da225a617
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 60
          name: zync
          ports:
          - containerPort: 8080
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 10
          resources:
            limits:
              cpu: "1"
              memory: 250Mi
            requests:
              cpu: 250m
              memory: 150M
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
    test: false
    triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
        - zync
        from:
          kind: ImageStreamTag
          name: amp-zync:latest
          namespace: amp
      type: ImageChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: DeploymentConfig
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    generation: 1
    name: zync-database
  spec:
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      name: zync-database
    strategy:
      activeDeadlineSeconds: 21600
      recreateParams:
        timeoutSeconds: 600
      resources: {}
      type: Recreate
    template:
      metadata:
        annotations:
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          name: zync-database
      spec:
        containers:
        - env:
          - name: POSTGRESQL_USER
            value: zync
          - name: POSTGRESQL_PASSWORD
            valueFrom:
              secretKeyRef:
                key: ZYNC_DATABASE_PASSWORD
                name: zync
          - name: POSTGRESQL_DATABASE
            value: zync_production
          image: registry.access.redhat.com/rhscl/postgresql-95-rhel7@sha256:20ae2acdccba2b970d9ddee68e60bda81c38c87154cddce15255aa2813fbc164
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 5432
            timeoutSeconds: 1
          name: postgresql
          ports:
          - containerPort: 5432
            protocol: TCP
          readinessProbe:
            exec:
              command:
              - /bin/sh
              - -i
              - -c
              - psql -h 127.0.0.1 -U zync -q -d zync_production -c 'SELECT 1'
            failureThreshold: 3
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              memory: 2G
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/pgsql/data
            name: zync-database-data
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: zync-database-data
    test: false
    triggers:
    - imageChangeParams:
        automatic: true
        containerNames:
        - postgresql
        from:
          kind: ImageStreamTag
          name: postgresql:9.5
          namespace: amp
      type: ImageChange
    - type: ConfigChange
  status:
    availableReplicas: 0
    latestVersion: 0
    observedGeneration: 0
    replicas: 0
    unavailableReplicas: 0
    updatedReplicas: 0
- apiVersion: v1
  kind: Route
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: apicast-production
    name: api-apicast-production-route
  spec:
    host: api-3scale-apicast-production.apps.demolab.local
    port:
      targetPort: gateway
    tls:
      insecureEdgeTerminationPolicy: Allow
      termination: edge
    to:
      kind: Service
      name: apicast-production
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-01T14:35:44Z
        status: "True"
        type: Admitted
      host: api-3scale-apicast-production.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: apicast-staging
    name: api-apicast-staging-route
  spec:
    host: api-3scale-apicast-staging.apps.demolab.local
    port:
      targetPort: gateway
    tls:
      insecureEdgeTerminationPolicy: Allow
      termination: edge
    to:
      kind: Service
      name: apicast-staging
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-01T14:35:44Z
        status: "True"
        type: Admitted
      host: api-3scale-apicast-staging.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    creationTimestamp: null
    name: apicast-production-membersapp
  spec:
    host: membersregistrationservice-3scale-apicast-production.apps.demolab.local
    port:
      targetPort: gateway
    tls:
      termination: edge
    to:
      kind: Service
      name: apicast-production
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-02T09:24:46Z
        status: "True"
        type: Admitted
      host: membersregistrationservice-3scale-apicast-production.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    creationTimestamp: null
    name: apicast-production-membersapp-oauth
  spec:
    host: membersregistrationservice-oauth-3scale-apicast-production.apps.demolab.local
    port:
      targetPort: gateway
    tls:
      termination: edge
    to:
      kind: Service
      name: apicast-production
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-02T15:02:59Z
        status: "True"
        type: Admitted
      host: membersregistrationservice-oauth-3scale-apicast-production.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    creationTimestamp: null
    name: apicast-staging-members
  spec:
    host: membersregistrationservice-3scale-apicast-staging.apps.demolab.local
    port:
      targetPort: gateway
    tls:
      termination: edge
    to:
      kind: Service
      name: apicast-staging
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-02T09:31:03Z
        status: "True"
        type: Admitted
      host: membersregistrationservice-3scale-apicast-staging.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    creationTimestamp: null
    name: apicast-staging-members-oauth
  spec:
    host: membersregistrationservice-oauth-3scale-apicast-staging.apps.demolab.local
    port:
      targetPort: gateway
    tls:
      termination: edge
    to:
      kind: Service
      name: apicast-staging
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-02T15:01:05Z
        status: "True"
        type: Admitted
      host: membersregistrationservice-oauth-3scale-apicast-staging.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: apicast-wildcard-router
    name: apicast-wildcard-router-route
  spec:
    host: apicast-wildcard.apps.demolab.local
    port:
      targetPort: http
    tls:
      insecureEdgeTerminationPolicy: Allow
      termination: edge
    to:
      kind: Service
      name: apicast-wildcard-router
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-01T14:35:44Z
        status: "True"
        type: Admitted
      host: apicast-wildcard.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: system-route
    name: backend-route
  spec:
    host: backend-3scale.apps.demolab.local
    port:
      targetPort: http
    tls:
      insecureEdgeTerminationPolicy: Allow
      termination: edge
    to:
      kind: Service
      name: backend-listener
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-01T14:35:43Z
        status: "True"
        type: Admitted
      host: backend-3scale.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    creationTimestamp: null
    name: fis-demo-apicast-production
  spec:
    host: fisdemo-3scale-apicast-production.apps.demolab.local
    port:
      targetPort: gateway
    tls:
      termination: edge
    to:
      kind: Service
      name: apicast-production
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-27T09:22:04Z
        status: "True"
        type: Admitted
      host: fisdemo-3scale-apicast-production.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    creationTimestamp: null
    name: fis-demo-apicast-production-oauth
  spec:
    host: oauth-fisdemo-3scale-apicast-production.apps.demolab.local
    port:
      targetPort: gateway
    tls:
      termination: edge
    to:
      kind: Service
      name: apicast-production
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-27T12:46:30Z
        status: "True"
        type: Admitted
      host: oauth-fisdemo-3scale-apicast-production.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    creationTimestamp: null
    name: fisdemo-apicast-staging
  spec:
    host: fisdemo-3scale-apicast-staging.apps.demolab.local
    port:
      targetPort: gateway
    tls:
      termination: edge
    to:
      kind: Service
      name: apicast-staging
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-27T09:24:08Z
        status: "True"
        type: Admitted
      host: fisdemo-3scale-apicast-staging.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    creationTimestamp: null
    name: fisdemo-apicast-staging-oauth
  spec:
    host: oauth-fisdemo-3scale-apicast-staging.apps.demolab.local
    port:
      targetPort: gateway
    tls:
      termination: edge
    to:
      kind: Service
      name: apicast-staging
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-27T12:48:03Z
        status: "True"
        type: Admitted
      host: oauth-fisdemo-3scale-apicast-staging.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: system-route
    name: system-developer-route
  spec:
    host: 3scale.apps.demolab.local
    port:
      targetPort: http
    tls:
      insecureEdgeTerminationPolicy: Allow
      termination: edge
    to:
      kind: Service
      name: system-developer
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-01T14:35:43Z
        status: "True"
        type: Admitted
      host: 3scale.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Route
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    labels:
      app: system-route
    name: system-provider-admin-route
  spec:
    host: 3scale-admin.apps.demolab.local
    port:
      targetPort: http
    tls:
      insecureEdgeTerminationPolicy: Allow
      termination: edge
    to:
      kind: Service
      name: system-provider
      weight: 100
    wildcardPolicy: None
  status:
    ingress:
    - conditions:
      - lastTransitionTime: 2018-02-01T14:35:43Z
        status: "True"
        type: Admitted
      host: 3scale-admin.apps.demolab.local
      routerName: router
      wildcardPolicy: None
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"apicast-production-5","uid":"f6b08a5e-1bbc-11e8-91ce-52540064f8a5","apiVersion":"v1","resourceVersion":"381469015"}}
      openshift.io/deployment-config.latest-version: "5"
      openshift.io/deployment-config.name: apicast-production
      openshift.io/deployment.name: apicast-production-5
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: apicast-production-5-
    labels:
      deployment: apicast-production-5
      deploymentconfig: apicast-production
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: apicast-production-5
      uid: f6b08a5e-1bbc-11e8-91ce-52540064f8a5
  spec:
    containers:
    - env:
      - name: THREESCALE_PORTAL_ENDPOINT
        value: http://ohnchca2@system-provider:3000
      - name: APICAST_CONFIGURATION_LOADER
        value: boot
      - name: APICAST_CONFIGURATION_CACHE
        value: "300"
      - name: THREESCALE_DEPLOYMENT_ENV
        value: production
      - name: APICAST_MANAGEMENT_API
        value: status
      - name: BACKEND_ENDPOINT_OVERRIDE
        value: http://backend-listener:3000
      - name: OPENSSL_VERIFY
        value: "false"
      - name: APICAST_RESPONSE_CODES
        value: "true"
      - name: REDIS_URL
        value: redis://system-redis:6379/1
      image: registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /status/live
          port: 8090
          scheme: HTTP
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      name: apicast-production
      ports:
      - containerPort: 8080
        protocol: TCP
      - containerPort: 8090
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /status/ready
          port: 8090
          scheme: HTTP
        initialDelaySeconds: 15
        periodSeconds: 30
        successThreshold: 1
        timeoutSeconds: 5
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"apicast-staging-3","uid":"fb61a621-1bbc-11e8-91ce-52540064f8a5","apiVersion":"v1","resourceVersion":"381469017"}}
      openshift.io/deployment-config.latest-version: "3"
      openshift.io/deployment-config.name: apicast-staging
      openshift.io/deployment.name: apicast-staging-3
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: apicast-staging-3-
    labels:
      deployment: apicast-staging-3
      deploymentconfig: apicast-staging
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: apicast-staging-3
      uid: fb61a621-1bbc-11e8-91ce-52540064f8a5
  spec:
    containers:
    - env:
      - name: THREESCALE_PORTAL_ENDPOINT
        value: http://ohnchca2@system-provider:3000
      - name: APICAST_CONFIGURATION_LOADER
        value: lazy
      - name: APICAST_CONFIGURATION_CACHE
        value: "0"
      - name: THREESCALE_DEPLOYMENT_ENV
        value: sandbox
      - name: APICAST_MANAGEMENT_API
        value: status
      - name: BACKEND_ENDPOINT_OVERRIDE
        value: http://backend-listener:3000
      - name: OPENSSL_VERIFY
        value: "false"
      - name: APICAST_RESPONSE_CODES
        value: "true"
      - name: REDIS_URL
        value: redis://system-redis:6379/2
      image: registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /status/live
          port: 8090
          scheme: HTTP
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      name: apicast-staging
      ports:
      - containerPort: 8080
        protocol: TCP
      - containerPort: 8090
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /status/ready
          port: 8090
          scheme: HTTP
        initialDelaySeconds: 15
        periodSeconds: 30
        successThreshold: 1
        timeoutSeconds: 5
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"apicast-wildcard-router-1","uid":"2ff352ac-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381477046"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: apicast-wildcard-router
      openshift.io/deployment.name: apicast-wildcard-router-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: apicast-wildcard-router-1-
    labels:
      deployment: apicast-wildcard-router-1
      deploymentconfig: apicast-wildcard-router
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: apicast-wildcard-router-1
      uid: 2ff352ac-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - env:
      - name: API_HOST
        value: http://system-provider:3000
      - name: ACCESS_TOKEN
        value: ohnchca2
      image: registry.access.redhat.com/3scale-amp21/wildcard-router@sha256:bb08c3f5c1e573018fa69ebb34d841ea054638744289235c6bf862c1c81b176f
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: http
        timeoutSeconds: 1
      name: apicast-wildcard-router
      ports:
      - containerPort: 8080
        name: http
        protocol: TCP
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-1.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"apicast-wildcard-router-1","uid":"2ff352ac-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469457"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: apicast-wildcard-router
      openshift.io/deployment.name: apicast-wildcard-router-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: apicast-wildcard-router-1-
    labels:
      deployment: apicast-wildcard-router-1
      deploymentconfig: apicast-wildcard-router
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: apicast-wildcard-router-1
      uid: 2ff352ac-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - env:
      - name: API_HOST
        value: http://system-provider:3000
      - name: ACCESS_TOKEN
        value: ohnchca2
      image: registry.access.redhat.com/3scale-amp21/wildcard-router@sha256:bb08c3f5c1e573018fa69ebb34d841ea054638744289235c6bf862c1c81b176f
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: http
        timeoutSeconds: 1
      name: apicast-wildcard-router
      ports:
      - containerPort: 8080
        name: http
        protocol: TCP
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"backend-cron-1","uid":"2fd71cbe-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469459"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: backend-cron
      openshift.io/deployment.name: backend-cron-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: backend-cron-1-
    labels:
      deployment: backend-cron-1
      deploymentconfig: backend-cron
      name: backend-cron
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: backend-cron-1
      uid: 2fd71cbe-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - args:
      - backend-cron
      env:
      - name: CONFIG_REDIS_PROXY
        value: backend-redis:6379
      - name: CONFIG_QUEUES_MASTER_NAME
        value: backend-redis:6379/1
      - name: RACK_ENV
        value: production
      image: registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842
      imagePullPolicy: Always
      name: backend-cron
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"backend-listener-1","uid":"2fd72f8a-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469465"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: backend-listener
      openshift.io/deployment.name: backend-listener-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: backend-listener-1-
    labels:
      deployment: backend-listener-1
      deploymentconfig: backend-listener
      name: backend-listener
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: backend-listener-1
      uid: 2fd72f8a-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - args:
      - bin/3scale_backend
      - start
      - -e
      - production
      - -p
      - "3000"
      - -x
      - /dev/stdout
      env:
      - name: CONFIG_REDIS_PROXY
        value: backend-redis:6379
      - name: CONFIG_QUEUES_MASTER_NAME
        value: backend-redis:6379/1
      - name: RACK_ENV
        value: production
      - name: CONFIG_INTERNAL_API_USER
        value: 3scale_api_user
      - name: CONFIG_INTERNAL_API_PASSWORD
        value: yrwkkmu6
      image: registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: 3000
        timeoutSeconds: 1
      name: backend-listener
      ports:
      - containerPort: 3000
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /status
          port: 3000
          scheme: HTTP
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"backend-listener-1","uid":"2fd72f8a-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381479007"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: backend-listener
      openshift.io/deployment.name: backend-listener-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: backend-listener-1-
    labels:
      deployment: backend-listener-1
      deploymentconfig: backend-listener
      name: backend-listener
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: backend-listener-1
      uid: 2fd72f8a-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - args:
      - bin/3scale_backend
      - start
      - -e
      - production
      - -p
      - "3000"
      - -x
      - /dev/stdout
      env:
      - name: CONFIG_REDIS_PROXY
        value: backend-redis:6379
      - name: CONFIG_QUEUES_MASTER_NAME
        value: backend-redis:6379/1
      - name: RACK_ENV
        value: production
      - name: CONFIG_INTERNAL_API_USER
        value: 3scale_api_user
      - name: CONFIG_INTERNAL_API_PASSWORD
        value: yrwkkmu6
      image: registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: 3000
        timeoutSeconds: 1
      name: backend-listener
      ports:
      - containerPort: 3000
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /status
          port: 3000
          scheme: HTTP
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-3.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"backend-redis-1","uid":"2ed31b45-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469467"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: backend-redis
      openshift.io/deployment.name: backend-redis-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: backend-redis-1-
    labels:
      deployment: backend-redis-1
      deploymentconfig: backend-redis
      name: backend-redis
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: backend-redis-1
      uid: 2ed31b45-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - image: rhscl/redis-32-rhel7:3.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: 6379
        timeoutSeconds: 1
      name: backend-redis
      readinessProbe:
        exec:
          command:
          - container-entrypoint
          - bash
          - -c
          - redis-cli set liveness-probe "`date`" | grep OK
        failureThreshold: 3
        initialDelaySeconds: 10
        periodSeconds: 30
        successThreshold: 1
        timeoutSeconds: 1
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/redis/data
        name: backend-redis-storage
      - mountPath: /etc/redis.conf
        name: redis-config
        subPath: redis.conf
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: backend-redis-storage
      persistentVolumeClaim:
        claimName: backend-redis-storage
    - configMap:
        defaultMode: 420
        items:
        - key: redis.conf
          path: redis.conf
        name: redis-config
      name: redis-config
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"backend-worker-1","uid":"2fe5dd4e-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469473"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: backend-worker
      openshift.io/deployment.name: backend-worker-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: backend-worker-1-
    labels:
      deployment: backend-worker-1
      deploymentconfig: backend-worker
      name: backend-worker
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: backend-worker-1
      uid: 2fe5dd4e-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - args:
      - bin/3scale_backend_worker
      - run
      env:
      - name: CONFIG_REDIS_PROXY
        value: backend-redis:6379
      - name: CONFIG_QUEUES_MASTER_NAME
        value: backend-redis:6379/1
      - name: RACK_ENV
        value: production
      - name: CONFIG_EVENTS_HOOK
        value: http://system-provider:3000/master/events/import
      - name: CONFIG_EVENTS_HOOK_SHARED_SECRET
        value: 084qnjji
      image: registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842
      imagePullPolicy: Always
      name: backend-worker
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"system-app-3","uid":"f4ef57ad-0c15-11e8-8448-52540064f8a5","apiVersion":"v1","resourceVersion":"381469478"}}
      openshift.io/deployment-config.latest-version: "3"
      openshift.io/deployment-config.name: system-app
      openshift.io/deployment.name: system-app-3
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: system-app-3-
    labels:
      deployment: system-app-3
      deploymentconfig: system-app
      name: system-app
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: system-app-3
      uid: f4ef57ad-0c15-11e8-8448-52540064f8a5
  spec:
    containers:
    - command:
      - env
      - TENANT_MODE=provider
      - PORT=3000
      - container-entrypoint
      - bundle
      - exec
      - unicorn
      - -c
      - config/unicorn.rb
      env:
      - name: RAILS_ENV
        value: production
      - name: DATABASE_URL
        value: mysql2://root:5sgo1wvm@system-mysql/system
      - name: FORCE_SSL
        value: "false"
      - name: THREESCALE_SUPERDOMAIN
        value: apps.demolab.local
      - name: TENANT_NAME
        value: 3scale
      - name: APICAST_ACCESS_TOKEN
        value: ohnchca2
      - name: ADMIN_ACCESS_TOKEN
        value: a6c778iyvfi8bxa3
      - name: PROVIDER_PLAN
        value: enterprise
      - name: USER_LOGIN
        value: admin
      - name: USER_PASSWORD
        value: 7ymhr3cu
      - name: RAILS_LOG_TO_STDOUT
        value: "true"
      - name: RAILS_LOG_LEVEL
        value: info
      - name: THINKING_SPHINX_ADDRESS
        value: system-sphinx
      - name: THINKING_SPHINX_PORT
        value: "9306"
      - name: THINKING_SPHINX_CONFIGURATION_FILE
        value: /tmp/sphinx.conf
      - name: EVENTS_SHARED_SECRET
        value: 084qnjji
      - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
        value: VERIFY_NONE
      - name: APICAST_BACKEND_ROOT_ENDPOINT
        value: https://backend-3scale.apps.demolab.local
      - name: CONFIG_INTERNAL_API_USER
        value: 3scale_api_user
      - name: CONFIG_INTERNAL_API_PASSWORD
        value: yrwkkmu6
      - name: SECRET_KEY_BASE
        value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
      - name: ZYNC_AUTHENTICATION_TOKEN
        valueFrom:
          secretKeyRef:
            key: ZYNC_AUTHENTICATION_TOKEN
            name: zync
      - name: SMTP_ADDRESS
        valueFrom:
          configMapKeyRef:
            key: address
            name: smtp
      - name: SMTP_USER_NAME
        valueFrom:
          configMapKeyRef:
            key: username
            name: smtp
      - name: SMTP_PASSWORD
        valueFrom:
          configMapKeyRef:
            key: password
            name: smtp
      - name: SMTP_DOMAIN
        valueFrom:
          configMapKeyRef:
            key: domain
            name: smtp
      - name: SMTP_PORT
        valueFrom:
          configMapKeyRef:
            key: port
            name: smtp
      - name: SMTP_AUTHENTICATION
        valueFrom:
          configMapKeyRef:
            key: authentication
            name: smtp
      - name: SMTP_OPENSSL_VERIFY_MODE
        valueFrom:
          configMapKeyRef:
            key: openssl.verify.mode
            name: smtp
      - name: BACKEND_ROUTE
        value: https://backend-3scale.apps.demolab.local
      - name: SSL_CERT_DIR
        value: /etc/pki/tls/certs
      image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 20
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: provider
        timeoutSeconds: 10
      name: system-provider
      ports:
      - containerPort: 3000
        name: provider
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          httpHeaders:
          - name: X-Forwarded-Proto
            value: https
          path: /check.txt
          port: provider
          scheme: HTTP
        initialDelaySeconds: 30
        periodSeconds: 30
        successThreshold: 1
        timeoutSeconds: 10
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /opt/system/public/system
        name: system-storage
      - mountPath: /opt/system/config/zync.yml
        name: system-config
        subPath: zync.yml
      - mountPath: /opt/system/config/rolling_updates.yml
        name: system-config
        subPath: rolling_updates.yml
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    - command:
      - env
      - TENANT_MODE=developer
      - PORT=3001
      - container-entrypoint
      - bundle
      - exec
      - unicorn
      - -c
      - config/unicorn.rb
      env:
      - name: RAILS_ENV
        value: production
      - name: DATABASE_URL
        value: mysql2://root:5sgo1wvm@system-mysql/system
      - name: FORCE_SSL
        value: "true"
      - name: THREESCALE_SUPERDOMAIN
        value: apps.demolab.local
      - name: TENANT_NAME
        value: 3scale
      - name: APICAST_ACCESS_TOKEN
        value: ohnchca2
      - name: ADMIN_ACCESS_TOKEN
        value: a6c778iyvfi8bxa3
      - name: PROVIDER_PLAN
        value: enterprise
      - name: USER_LOGIN
        value: admin
      - name: USER_PASSWORD
        value: 7ymhr3cu
      - name: RAILS_LOG_TO_STDOUT
        value: "true"
      - name: RAILS_LOG_LEVEL
        value: info
      - name: THINKING_SPHINX_ADDRESS
        value: system-sphinx
      - name: THINKING_SPHINX_PORT
        value: "9306"
      - name: THINKING_SPHINX_CONFIGURATION_FILE
        value: /tmp/sphinx.conf
      - name: EVENTS_SHARED_SECRET
        value: 084qnjji
      - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
        value: VERIFY_NONE
      - name: APICAST_BACKEND_ROOT_ENDPOINT
        value: https://backend-3scale.apps.demolab.local
      - name: CONFIG_INTERNAL_API_USER
        value: 3scale_api_user
      - name: CONFIG_INTERNAL_API_PASSWORD
        value: yrwkkmu6
      - name: SECRET_KEY_BASE
        value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
      - name: ZYNC_AUTHENTICATION_TOKEN
        valueFrom:
          secretKeyRef:
            key: ZYNC_AUTHENTICATION_TOKEN
            name: zync
      - name: SMTP_ADDRESS
        valueFrom:
          configMapKeyRef:
            key: address
            name: smtp
      - name: SMTP_USER_NAME
        valueFrom:
          configMapKeyRef:
            key: username
            name: smtp
      - name: SMTP_PASSWORD
        valueFrom:
          configMapKeyRef:
            key: password
            name: smtp
      - name: SMTP_DOMAIN
        valueFrom:
          configMapKeyRef:
            key: domain
            name: smtp
      - name: SMTP_PORT
        valueFrom:
          configMapKeyRef:
            key: port
            name: smtp
      - name: SMTP_AUTHENTICATION
        valueFrom:
          configMapKeyRef:
            key: authentication
            name: smtp
      - name: SMTP_OPENSSL_VERIFY_MODE
        valueFrom:
          configMapKeyRef:
            key: openssl.verify.mode
            name: smtp
      - name: BACKEND_ROUTE
        value: https://backend-3scale.apps.demolab.local
      - name: SSL_CERT_DIR
        value: /etc/pki/tls/certs
      image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 20
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: developer
        timeoutSeconds: 10
      name: system-developer
      ports:
      - containerPort: 3001
        name: developer
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          httpHeaders:
          - name: X-Forwarded-Proto
            value: https
          path: /check.txt
          port: developer
          scheme: HTTP
        initialDelaySeconds: 30
        periodSeconds: 30
        successThreshold: 1
        timeoutSeconds: 10
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /opt/system/public/system
        name: system-storage
        readOnly: true
      - mountPath: /opt/system/config/zync.yml
        name: system-config
        subPath: zync.yml
      - mountPath: /opt/system/config/rolling_updates.yml
        name: system-config
        subPath: rolling_updates.yml
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: system-storage
      persistentVolumeClaim:
        claimName: system-storage
    - configMap:
        defaultMode: 420
        items:
        - key: zync.yml
          path: zync.yml
        - key: rolling_updates.yml
          path: rolling_updates.yml
        name: system
      name: system-config
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"system-app-3","uid":"f4ef57ad-0c15-11e8-8448-52540064f8a5","apiVersion":"v1","resourceVersion":"381479743"}}
      openshift.io/deployment-config.latest-version: "3"
      openshift.io/deployment-config.name: system-app
      openshift.io/deployment.name: system-app-3
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: system-app-3-
    labels:
      deployment: system-app-3
      deploymentconfig: system-app
      name: system-app
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: system-app-3
      uid: f4ef57ad-0c15-11e8-8448-52540064f8a5
  spec:
    containers:
    - command:
      - env
      - TENANT_MODE=provider
      - PORT=3000
      - container-entrypoint
      - bundle
      - exec
      - unicorn
      - -c
      - config/unicorn.rb
      env:
      - name: RAILS_ENV
        value: production
      - name: DATABASE_URL
        value: mysql2://root:5sgo1wvm@system-mysql/system
      - name: FORCE_SSL
        value: "false"
      - name: THREESCALE_SUPERDOMAIN
        value: apps.demolab.local
      - name: TENANT_NAME
        value: 3scale
      - name: APICAST_ACCESS_TOKEN
        value: ohnchca2
      - name: ADMIN_ACCESS_TOKEN
        value: a6c778iyvfi8bxa3
      - name: PROVIDER_PLAN
        value: enterprise
      - name: USER_LOGIN
        value: admin
      - name: USER_PASSWORD
        value: 7ymhr3cu
      - name: RAILS_LOG_TO_STDOUT
        value: "true"
      - name: RAILS_LOG_LEVEL
        value: info
      - name: THINKING_SPHINX_ADDRESS
        value: system-sphinx
      - name: THINKING_SPHINX_PORT
        value: "9306"
      - name: THINKING_SPHINX_CONFIGURATION_FILE
        value: /tmp/sphinx.conf
      - name: EVENTS_SHARED_SECRET
        value: 084qnjji
      - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
        value: VERIFY_NONE
      - name: APICAST_BACKEND_ROOT_ENDPOINT
        value: https://backend-3scale.apps.demolab.local
      - name: CONFIG_INTERNAL_API_USER
        value: 3scale_api_user
      - name: CONFIG_INTERNAL_API_PASSWORD
        value: yrwkkmu6
      - name: SECRET_KEY_BASE
        value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
      - name: ZYNC_AUTHENTICATION_TOKEN
        valueFrom:
          secretKeyRef:
            key: ZYNC_AUTHENTICATION_TOKEN
            name: zync
      - name: SMTP_ADDRESS
        valueFrom:
          configMapKeyRef:
            key: address
            name: smtp
      - name: SMTP_USER_NAME
        valueFrom:
          configMapKeyRef:
            key: username
            name: smtp
      - name: SMTP_PASSWORD
        valueFrom:
          configMapKeyRef:
            key: password
            name: smtp
      - name: SMTP_DOMAIN
        valueFrom:
          configMapKeyRef:
            key: domain
            name: smtp
      - name: SMTP_PORT
        valueFrom:
          configMapKeyRef:
            key: port
            name: smtp
      - name: SMTP_AUTHENTICATION
        valueFrom:
          configMapKeyRef:
            key: authentication
            name: smtp
      - name: SMTP_OPENSSL_VERIFY_MODE
        valueFrom:
          configMapKeyRef:
            key: openssl.verify.mode
            name: smtp
      - name: BACKEND_ROUTE
        value: https://backend-3scale.apps.demolab.local
      - name: SSL_CERT_DIR
        value: /etc/pki/tls/certs
      image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 20
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: provider
        timeoutSeconds: 10
      name: system-provider
      ports:
      - containerPort: 3000
        name: provider
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          httpHeaders:
          - name: X-Forwarded-Proto
            value: https
          path: /check.txt
          port: provider
          scheme: HTTP
        initialDelaySeconds: 30
        periodSeconds: 30
        successThreshold: 1
        timeoutSeconds: 10
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /opt/system/public/system
        name: system-storage
      - mountPath: /opt/system/config/zync.yml
        name: system-config
        subPath: zync.yml
      - mountPath: /opt/system/config/rolling_updates.yml
        name: system-config
        subPath: rolling_updates.yml
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    - command:
      - env
      - TENANT_MODE=developer
      - PORT=3001
      - container-entrypoint
      - bundle
      - exec
      - unicorn
      - -c
      - config/unicorn.rb
      env:
      - name: RAILS_ENV
        value: production
      - name: DATABASE_URL
        value: mysql2://root:5sgo1wvm@system-mysql/system
      - name: FORCE_SSL
        value: "true"
      - name: THREESCALE_SUPERDOMAIN
        value: apps.demolab.local
      - name: TENANT_NAME
        value: 3scale
      - name: APICAST_ACCESS_TOKEN
        value: ohnchca2
      - name: ADMIN_ACCESS_TOKEN
        value: a6c778iyvfi8bxa3
      - name: PROVIDER_PLAN
        value: enterprise
      - name: USER_LOGIN
        value: admin
      - name: USER_PASSWORD
        value: 7ymhr3cu
      - name: RAILS_LOG_TO_STDOUT
        value: "true"
      - name: RAILS_LOG_LEVEL
        value: info
      - name: THINKING_SPHINX_ADDRESS
        value: system-sphinx
      - name: THINKING_SPHINX_PORT
        value: "9306"
      - name: THINKING_SPHINX_CONFIGURATION_FILE
        value: /tmp/sphinx.conf
      - name: EVENTS_SHARED_SECRET
        value: 084qnjji
      - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
        value: VERIFY_NONE
      - name: APICAST_BACKEND_ROOT_ENDPOINT
        value: https://backend-3scale.apps.demolab.local
      - name: CONFIG_INTERNAL_API_USER
        value: 3scale_api_user
      - name: CONFIG_INTERNAL_API_PASSWORD
        value: yrwkkmu6
      - name: SECRET_KEY_BASE
        value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
      - name: ZYNC_AUTHENTICATION_TOKEN
        valueFrom:
          secretKeyRef:
            key: ZYNC_AUTHENTICATION_TOKEN
            name: zync
      - name: SMTP_ADDRESS
        valueFrom:
          configMapKeyRef:
            key: address
            name: smtp
      - name: SMTP_USER_NAME
        valueFrom:
          configMapKeyRef:
            key: username
            name: smtp
      - name: SMTP_PASSWORD
        valueFrom:
          configMapKeyRef:
            key: password
            name: smtp
      - name: SMTP_DOMAIN
        valueFrom:
          configMapKeyRef:
            key: domain
            name: smtp
      - name: SMTP_PORT
        valueFrom:
          configMapKeyRef:
            key: port
            name: smtp
      - name: SMTP_AUTHENTICATION
        valueFrom:
          configMapKeyRef:
            key: authentication
            name: smtp
      - name: SMTP_OPENSSL_VERIFY_MODE
        valueFrom:
          configMapKeyRef:
            key: openssl.verify.mode
            name: smtp
      - name: BACKEND_ROUTE
        value: https://backend-3scale.apps.demolab.local
      - name: SSL_CERT_DIR
        value: /etc/pki/tls/certs
      image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 20
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: developer
        timeoutSeconds: 10
      name: system-developer
      ports:
      - containerPort: 3001
        name: developer
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          httpHeaders:
          - name: X-Forwarded-Proto
            value: https
          path: /check.txt
          port: developer
          scheme: HTTP
        initialDelaySeconds: 30
        periodSeconds: 30
        successThreshold: 1
        timeoutSeconds: 10
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /opt/system/public/system
        name: system-storage
        readOnly: true
      - mountPath: /opt/system/config/zync.yml
        name: system-config
        subPath: zync.yml
      - mountPath: /opt/system/config/rolling_updates.yml
        name: system-config
        subPath: rolling_updates.yml
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-3.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: system-storage
      persistentVolumeClaim:
        claimName: system-storage
    - configMap:
        defaultMode: 420
        items:
        - key: zync.yml
          path: zync.yml
        - key: rolling_updates.yml
          path: rolling_updates.yml
        name: system
      name: system-config
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"system-memcache-1","uid":"2f20a5f0-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381477524"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: system-memcache
      openshift.io/deployment.name: system-memcache-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: system-memcache-1-
    labels:
      deployment: system-memcache-1
      deploymentconfig: system-memcache
      name: system-memcache
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: system-memcache-1
      uid: 2f20a5f0-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - command:
      - memcached
      - -m
      - "64"
      image: 3scale-amp20/memcached:1.4.15-8
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: 11211
        timeoutSeconds: 1
      name: memcache
      readinessProbe:
        exec:
          command:
          - sh
          - -c
          - echo version | nc $HOSTNAME 11211 | grep VERSION
        failureThreshold: 3
        initialDelaySeconds: 10
        periodSeconds: 30
        successThreshold: 1
        timeoutSeconds: 5
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-3.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"system-memcache-1","uid":"2f20a5f0-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469483"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: system-memcache
      openshift.io/deployment.name: system-memcache-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: system-memcache-1-
    labels:
      deployment: system-memcache-1
      deploymentconfig: system-memcache
      name: system-memcache
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: system-memcache-1
      uid: 2f20a5f0-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - command:
      - memcached
      - -m
      - "64"
      image: 3scale-amp20/memcached:1.4.15-8
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: 11211
        timeoutSeconds: 1
      name: memcache
      readinessProbe:
        exec:
          command:
          - sh
          - -c
          - echo version | nc $HOSTNAME 11211 | grep VERSION
        failureThreshold: 3
        initialDelaySeconds: 10
        periodSeconds: 30
        successThreshold: 1
        timeoutSeconds: 5
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"system-mysql-2","uid":"a92c2888-2614-11e8-afe0-5254002f83b4","apiVersion":"v1","resourceVersion":"383874321"}}
      openshift.io/deployment-config.latest-version: "2"
      openshift.io/deployment-config.name: system-mysql
      openshift.io/deployment.name: system-mysql-2
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: system-mysql-2-
    labels:
      deployment: system-mysql-2
      deploymentconfig: system-mysql
      name: system-mysql
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: system-mysql-2
      uid: a92c2888-2614-11e8-afe0-5254002f83b4
  spec:
    containers:
    - env:
      - name: MYSQL_USER
        value: mysql
      - name: MYSQL_PASSWORD
        value: yp5w0ast
      - name: MYSQL_DATABASE
        value: system
      - name: MYSQL_ROOT_PASSWORD
        value: 5sgo1wvm
      - name: MYSQL_LOWER_CASE_TABLE_NAMES
        value: "1"
      image: rhscl/mysql-56-rhel7:5.6
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: 3306
        timeoutSeconds: 1
      name: system-mysql
      ports:
      - containerPort: 3306
        protocol: TCP
      readinessProbe:
        exec:
          command:
          - /bin/sh
          - -i
          - -c
          - MYSQL_PWD="$MYSQL_PASSWORD" mysql -h 127.0.0.1 -u $MYSQL_USER -D $MYSQL_DATABASE
            -e 'SELECT 1'
        failureThreshold: 3
        initialDelaySeconds: 10
        periodSeconds: 30
        successThreshold: 1
        timeoutSeconds: 5
      resources:
        limits:
          memory: 2Gi
        requests:
          cpu: "1"
          memory: 1Gi
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/mysql/data
        name: mysql-storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-3.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: mysql-storage
      persistentVolumeClaim:
        claimName: mysql-storage
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: Burstable
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"system-redis-1","uid":"2f00eacc-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469492"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: system-redis
      openshift.io/deployment.name: system-redis-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: system-redis-1-
    labels:
      deployment: system-redis-1
      deploymentconfig: system-redis
      name: system-redis
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: system-redis-1
      uid: 2f00eacc-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - image: rhscl/redis-32-rhel7:3.2
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 10
        periodSeconds: 5
        successThreshold: 1
        tcpSocket:
          port: 6379
        timeoutSeconds: 1
      name: system-redis
      readinessProbe:
        exec:
          command:
          - container-entrypoint
          - bash
          - -c
          - redis-cli set liveness-probe "`date`" | grep OK
        failureThreshold: 3
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/redis/data
        name: system-redis-storage
      - mountPath: /etc/redis.conf
        name: redis-config
        subPath: redis.conf
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: system-redis-storage
      persistentVolumeClaim:
        claimName: system-redis-storage
    - configMap:
        defaultMode: 420
        items:
        - key: redis.conf
          path: redis.conf
        name: redis-config
      name: redis-config
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"system-resque-2","uid":"89591c48-0bf7-11e8-8448-52540064f8a5","apiVersion":"v1","resourceVersion":"381469495"}}
      openshift.io/deployment-config.latest-version: "2"
      openshift.io/deployment-config.name: system-resque
      openshift.io/deployment.name: system-resque-2
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: system-resque-2-
    labels:
      deployment: system-resque-2
      deploymentconfig: system-resque
      name: system-resque
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: system-resque-2
      uid: 89591c48-0bf7-11e8-8448-52540064f8a5
  spec:
    containers:
    - args:
      - rake
      - resque:work
      - QUEUE=*
      env:
      - name: RAILS_ENV
        value: production
      - name: DATABASE_URL
        value: mysql2://root:5sgo1wvm@system-mysql/system
      - name: FORCE_SSL
        value: "true"
      - name: THREESCALE_SUPERDOMAIN
        value: apps.demolab.local
      - name: TENANT_NAME
        value: 3scale
      - name: APICAST_ACCESS_TOKEN
        value: ohnchca2
      - name: ADMIN_ACCESS_TOKEN
        value: a6c778iyvfi8bxa3
      - name: PROVIDER_PLAN
        value: enterprise
      - name: USER_LOGIN
        value: admin
      - name: USER_PASSWORD
        value: 7ymhr3cu
      - name: RAILS_LOG_TO_STDOUT
        value: "true"
      - name: RAILS_LOG_LEVEL
        value: info
      - name: THINKING_SPHINX_ADDRESS
        value: system-sphinx
      - name: THINKING_SPHINX_PORT
        value: "9306"
      - name: THINKING_SPHINX_CONFIGURATION_FILE
        value: /tmp/sphinx.conf
      - name: EVENTS_SHARED_SECRET
        value: 084qnjji
      - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
        value: VERIFY_NONE
      - name: APICAST_BACKEND_ROOT_ENDPOINT
        value: https://backend-3scale.apps.demolab.local
      - name: CONFIG_INTERNAL_API_USER
        value: 3scale_api_user
      - name: CONFIG_INTERNAL_API_PASSWORD
        value: yrwkkmu6
      - name: SECRET_KEY_BASE
        value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
      - name: ZYNC_AUTHENTICATION_TOKEN
        valueFrom:
          secretKeyRef:
            key: ZYNC_AUTHENTICATION_TOKEN
            name: zync
      - name: SMTP_ADDRESS
        valueFrom:
          configMapKeyRef:
            key: address
            name: smtp
      - name: SMTP_USER_NAME
        valueFrom:
          configMapKeyRef:
            key: username
            name: smtp
      - name: SMTP_PASSWORD
        valueFrom:
          configMapKeyRef:
            key: password
            name: smtp
      - name: SMTP_DOMAIN
        valueFrom:
          configMapKeyRef:
            key: domain
            name: smtp
      - name: SMTP_PORT
        valueFrom:
          configMapKeyRef:
            key: port
            name: smtp
      - name: SMTP_AUTHENTICATION
        valueFrom:
          configMapKeyRef:
            key: authentication
            name: smtp
      - name: SMTP_OPENSSL_VERIFY_MODE
        valueFrom:
          configMapKeyRef:
            key: openssl.verify.mode
            name: smtp
      - name: BACKEND_ROUTE
        value: https://backend-3scale.apps.demolab.local
      - name: SSL_CERT_DIR
        value: /etc/pki/tls/certs
      image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
      imagePullPolicy: Always
      name: system-resque
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /opt/system/public/system
        name: system-storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    - args:
      - rake
      - resque:scheduler
      - QUEUE=*
      env:
      - name: RAILS_ENV
        value: production
      - name: DATABASE_URL
        value: mysql2://root:5sgo1wvm@system-mysql/system
      - name: FORCE_SSL
        value: "true"
      - name: THREESCALE_SUPERDOMAIN
        value: apps.demolab.local
      - name: TENANT_NAME
        value: 3scale
      - name: APICAST_ACCESS_TOKEN
        value: ohnchca2
      - name: ADMIN_ACCESS_TOKEN
        value: a6c778iyvfi8bxa3
      - name: PROVIDER_PLAN
        value: enterprise
      - name: USER_LOGIN
        value: admin
      - name: USER_PASSWORD
        value: 7ymhr3cu
      - name: RAILS_LOG_TO_STDOUT
        value: "true"
      - name: RAILS_LOG_LEVEL
        value: info
      - name: THINKING_SPHINX_ADDRESS
        value: system-sphinx
      - name: THINKING_SPHINX_PORT
        value: "9306"
      - name: THINKING_SPHINX_CONFIGURATION_FILE
        value: /tmp/sphinx.conf
      - name: EVENTS_SHARED_SECRET
        value: 084qnjji
      - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
        value: VERIFY_NONE
      - name: APICAST_BACKEND_ROOT_ENDPOINT
        value: https://backend-3scale.apps.demolab.local
      - name: CONFIG_INTERNAL_API_USER
        value: 3scale_api_user
      - name: CONFIG_INTERNAL_API_PASSWORD
        value: yrwkkmu6
      - name: SECRET_KEY_BASE
        value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
      - name: ZYNC_AUTHENTICATION_TOKEN
        valueFrom:
          secretKeyRef:
            key: ZYNC_AUTHENTICATION_TOKEN
            name: zync
      - name: SMTP_ADDRESS
        valueFrom:
          configMapKeyRef:
            key: address
            name: smtp
      - name: SMTP_USER_NAME
        valueFrom:
          configMapKeyRef:
            key: username
            name: smtp
      - name: SMTP_PASSWORD
        valueFrom:
          configMapKeyRef:
            key: password
            name: smtp
      - name: SMTP_DOMAIN
        valueFrom:
          configMapKeyRef:
            key: domain
            name: smtp
      - name: SMTP_PORT
        valueFrom:
          configMapKeyRef:
            key: port
            name: smtp
      - name: SMTP_AUTHENTICATION
        valueFrom:
          configMapKeyRef:
            key: authentication
            name: smtp
      - name: SMTP_OPENSSL_VERIFY_MODE
        valueFrom:
          configMapKeyRef:
            key: openssl.verify.mode
            name: smtp
      - name: BACKEND_ROUTE
        value: https://backend-3scale.apps.demolab.local
      - name: SSL_CERT_DIR
        value: /etc/pki/tls/certs
      image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
      imagePullPolicy: Always
      name: system-scheduler
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: system-storage
      persistentVolumeClaim:
        claimName: system-storage
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"system-sidekiq-1","uid":"2fe6458b-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469498"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: system-sidekiq
      openshift.io/deployment.name: system-sidekiq-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: system-sidekiq-1-
    labels:
      deployment: system-sidekiq-1
      deploymentconfig: system-sidekiq
      name: system-sidekiq
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: system-sidekiq-1
      uid: 2fe6458b-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - args:
      - rake
      - sidekiq:worker
      env:
      - name: RAILS_ENV
        value: production
      - name: DATABASE_URL
        value: mysql2://root:5sgo1wvm@system-mysql/system
      - name: FORCE_SSL
        value: "true"
      - name: THREESCALE_SUPERDOMAIN
        value: apps.demolab.local
      - name: TENANT_NAME
        value: 3scale
      - name: APICAST_ACCESS_TOKEN
        value: ohnchca2
      - name: ADMIN_ACCESS_TOKEN
        value: a6c778iyvfi8bxa3
      - name: PROVIDER_PLAN
        value: enterprise
      - name: USER_LOGIN
        value: admin
      - name: USER_PASSWORD
        value: 7ymhr3cu
      - name: RAILS_LOG_TO_STDOUT
        value: "true"
      - name: RAILS_LOG_LEVEL
        value: info
      - name: THINKING_SPHINX_ADDRESS
        value: system-sphinx
      - name: THINKING_SPHINX_PORT
        value: "9306"
      - name: THINKING_SPHINX_CONFIGURATION_FILE
        value: /tmp/sphinx.conf
      - name: EVENTS_SHARED_SECRET
        value: 084qnjji
      - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
        value: VERIFY_NONE
      - name: APICAST_BACKEND_ROOT_ENDPOINT
        value: https://backend-3scale.apps.demolab.local
      - name: CONFIG_INTERNAL_API_USER
        value: 3scale_api_user
      - name: CONFIG_INTERNAL_API_PASSWORD
        value: yrwkkmu6
      - name: SECRET_KEY_BASE
        value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
      - name: ZYNC_AUTHENTICATION_TOKEN
        valueFrom:
          secretKeyRef:
            key: ZYNC_AUTHENTICATION_TOKEN
            name: zync
      - name: SMTP_ADDRESS
        valueFrom:
          configMapKeyRef:
            key: address
            name: smtp
      - name: SMTP_USER_NAME
        valueFrom:
          configMapKeyRef:
            key: username
            name: smtp
      - name: SMTP_PASSWORD
        valueFrom:
          configMapKeyRef:
            key: password
            name: smtp
      - name: SMTP_DOMAIN
        valueFrom:
          configMapKeyRef:
            key: domain
            name: smtp
      - name: SMTP_PORT
        valueFrom:
          configMapKeyRef:
            key: port
            name: smtp
      - name: SMTP_AUTHENTICATION
        valueFrom:
          configMapKeyRef:
            key: authentication
            name: smtp
      - name: SMTP_OPENSSL_VERIFY_MODE
        valueFrom:
          configMapKeyRef:
            key: openssl.verify.mode
            name: smtp
      - name: BACKEND_ROUTE
        value: https://backend-3scale.apps.demolab.local
      - name: SSL_CERT_DIR
        value: /etc/pki/tls/certs
      image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
      imagePullPolicy: Always
      name: system-sidekiq
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /opt/system/public/system
        name: system-storage
      - mountPath: /opt/system/config/zync.yml
        name: system-config
        subPath: zync.yml
      - mountPath: /opt/system/config/rolling_updates.yml
        name: system-config
        subPath: rolling_updates.yml
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: system-storage
      persistentVolumeClaim:
        claimName: system-storage
    - configMap:
        defaultMode: 420
        items:
        - key: zync.yml
          path: zync.yml
        - key: rolling_updates.yml
          path: rolling_updates.yml
        name: system
      name: system-config
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"system-sphinx-1","uid":"2fee349c-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469501"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: system-sphinx
      openshift.io/deployment.name: system-sphinx-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: system-sphinx-1-
    labels:
      deployment: system-sphinx-1
      deploymentconfig: system-sphinx
      name: system-sphinx
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: system-sphinx-1
      uid: 2fee349c-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - args:
      - rake
      - openshift:thinking_sphinx:start
      env:
      - name: RAILS_ENV
        value: production
      - name: DATABASE_URL
        value: mysql2://root:5sgo1wvm@system-mysql/system
      - name: THINKING_SPHINX_ADDRESS
        value: 0.0.0.0
      - name: THINKING_SPHINX_CONFIGURATION_FILE
        value: db/sphinx/production.conf
      - name: THINKING_SPHINX_PID_FILE
        value: db/sphinx/searchd.pid
      - name: DELTA_INDEX_INTERVAL
        value: "5"
      - name: FULL_REINDEX_INTERVAL
        value: "60"
      image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 60
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: 9306
        timeoutSeconds: 1
      name: system-sphinx
      resources: {}
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /opt/system/db/sphinx
        name: system-sphinx-database
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - emptyDir: {}
      name: system-sphinx-database
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: BestEffort
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"zync-1","uid":"2ff327a2-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469203"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: zync
      openshift.io/deployment.name: zync-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: zync-1-
    labels:
      app: zync
      deployment: zync-1
      deploymentconfig: zync
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: zync-1
      uid: 2ff327a2-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - env:
      - name: RAILS_LOG_TO_STDOUT
        value: "true"
      - name: RAILS_ENV
        value: production
      - name: DATABASE_URL
        valueFrom:
          secretKeyRef:
            key: DATABASE_URL
            name: zync
      - name: SECRET_KEY_BASE
        valueFrom:
          secretKeyRef:
            key: SECRET_KEY_BASE
            name: zync
      - name: ZYNC_AUTHENTICATION_TOKEN
        valueFrom:
          secretKeyRef:
            key: ZYNC_AUTHENTICATION_TOKEN
            name: zync
      image: registry.access.redhat.com/3scale-amp21/zync@sha256:8cdf36d177e81c9e4c3a17950c94245bb662249374d1385231afd63da225a617
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /status/live
          port: 8080
          scheme: HTTP
        initialDelaySeconds: 10
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 60
      name: zync
      ports:
      - containerPort: 8080
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /status/ready
          port: 8080
          scheme: HTTP
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 10
      resources:
        limits:
          cpu: "1"
          memory: 250Mi
        requests:
          cpu: 250m
          memory: 150M
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: Burstable
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubernetes.io/created-by: |
        {"kind":"SerializedReference","apiVersion":"v1","reference":{"kind":"ReplicationController","namespace":"amp","name":"zync-database-1","uid":"3081a73c-075d-11e8-9e1b-5254002f83b4","apiVersion":"v1","resourceVersion":"381469022"}}
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: zync-database
      openshift.io/deployment.name: zync-database-1
      openshift.io/generated-by: OpenShiftNewApp
      openshift.io/scc: restricted
    creationTimestamp: null
    generateName: zync-database-1-
    labels:
      deployment: zync-database-1
      deploymentconfig: zync-database
      name: zync-database
    ownerReferences:
    - apiVersion: v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicationController
      name: zync-database-1
      uid: 3081a73c-075d-11e8-9e1b-5254002f83b4
  spec:
    containers:
    - env:
      - name: POSTGRESQL_USER
        value: zync
      - name: POSTGRESQL_PASSWORD
        valueFrom:
          secretKeyRef:
            key: ZYNC_DATABASE_PASSWORD
            name: zync
      - name: POSTGRESQL_DATABASE
        value: zync_production
      image: registry.access.redhat.com/rhscl/postgresql-95-rhel7@sha256:20ae2acdccba2b970d9ddee68e60bda81c38c87154cddce15255aa2813fbc164
      imagePullPolicy: Always
      livenessProbe:
        failureThreshold: 3
        initialDelaySeconds: 30
        periodSeconds: 10
        successThreshold: 1
        tcpSocket:
          port: 5432
        timeoutSeconds: 1
      name: postgresql
      ports:
      - containerPort: 5432
        protocol: TCP
      readinessProbe:
        exec:
          command:
          - /bin/sh
          - -i
          - -c
          - psql -h 127.0.0.1 -U zync -q -d zync_production -c 'SELECT 1'
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 1
      resources:
        limits:
          memory: 2G
        requests:
          memory: 2G
      securityContext:
        capabilities:
          drop:
          - KILL
          - MKNOD
          - SETGID
          - SETUID
        privileged: false
        runAsUser: 1000340000
        seLinuxOptions:
          level: s0:c18,c17
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/pgsql/data
        name: zync-database-data
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: default-token-f62bd
        readOnly: true
    dnsPolicy: ClusterFirst
    imagePullSecrets:
    - name: default-dockercfg-x4z6f
    nodeName: ocp-app-2.demolab.local
    nodeSelector:
      purpose: apps
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 1000340000
      seLinuxOptions:
        level: s0:c18,c17
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    volumes:
    - emptyDir: {}
      name: zync-database-data
    - name: default-token-f62bd
      secret:
        defaultMode: 420
        secretName: default-token-f62bd
  status:
    phase: Pending
    qosClass: Burstable
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/original-replicas: "1"
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:47:18 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:45 +0000 UTC
      openshift.io/deployer-pod.name: apicast-production-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: apicast-production
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"apicast-production","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/apicast-production","uid":"2f28230c-075d-11e8-b959-52540064f8a5","resourceVersion":"242426965","generation":2,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":1800,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["apicast-production"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-apicast:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-production"},"template":{"metadata":{"creationTimestamp":null,"labels":{"deploymentconfig":"apicast-production"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"apicast-production","image":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8","ports":[{"containerPort":8080,"protocol":"TCP"},{"containerPort":8090,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","value":"http://ohnchca2@system-provider:3000"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_CONFIGURATION_CACHE","value":"300"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"production"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"BACKEND_ENDPOINT_OVERRIDE","value":"http://backend-listener:3000"},{"name":"OPENSSL_VERIFY","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"true"},{"name":"REDIS_URL","value":"redis://system-redis:6379/1"}],"resources":{},"livenessProbe":{"httpGet":{"path":"/status/live","port":8090,"scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":8090,"scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":5,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:43Z","lastTransitionTime":"2018-02-01T14:35:43Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: apicast-production
    name: apicast-production-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-production
      uid: 2f28230c-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 0
    selector:
      deployment: apicast-production-1
      deploymentconfig: apicast-production
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: apicast-production
          openshift.io/deployment.name: apicast-production-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: apicast-production-1
          deploymentconfig: apicast-production
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            value: http://ohnchca2@system-provider:3000
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_CONFIGURATION_CACHE
            value: "300"
          - name: THREESCALE_DEPLOYMENT_ENV
            value: production
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: BACKEND_ENDPOINT_OVERRIDE
            value: http://backend-listener:3000
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "true"
          - name: REDIS_URL
            value: redis://system-redis:6379/1
          image: registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-production
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 8090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/original-replicas: "1"
      openshift.io/deployer-pod.completed-at: 2018-02-20 18:44:06 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-20 18:42:26 +0000 UTC
      openshift.io/deployer-pod.name: apicast-production-2-deploy
      openshift.io/deployment-config.latest-version: "2"
      openshift.io/deployment-config.name: apicast-production
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: ""
      openshift.io/deployment.status-reason: manual change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"apicast-production","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/apicast-production","uid":"2f28230c-075d-11e8-b959-52540064f8a5","resourceVersion":"330937273","generation":13,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":1800,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["apicast-production"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-apicast:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-production"},"template":{"metadata":{"creationTimestamp":null,"labels":{"deploymentconfig":"apicast-production"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"apicast-production","image":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8","ports":[{"containerPort":8080,"protocol":"TCP"},{"containerPort":8090,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","value":"http://ohnchca2@system-provider:3000"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_CONFIGURATION_CACHE","value":"300"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"production"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"BACKEND_ENDPOINT_OVERRIDE","value":"http://backend-listener:3000"},{"name":"OPENSSL_VERIFY","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"true"},{"name":"REDIS_URL","value":"redis://system-redis:6379/1"}],"resources":{},"livenessProbe":{"httpGet":{"path":"/status/live","port":8090,"scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":8090,"scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":5,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":2,"observedGeneration":12,"replicas":1,"updatedReplicas":1,"availableReplicas":1,"unavailableReplicas":0,"details":{"message":"manual change","causes":[{"type":"Manual"}]},"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2018-02-01T14:47:27Z","lastTransitionTime":"2018-02-01T14:43:46Z","reason":"NewReplicationControllerAvailable","message":"replication controller \"apicast-production-1\" successfully rolled out"},{"type":"Available","status":"True","lastUpdateTime":"2018-02-19T15:12:11Z","lastTransitionTime":"2018-02-19T15:12:11Z","message":"Deployment config has minimum availability."}],"readyReplicas":1}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: apicast-production
    name: apicast-production-2
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-production
      uid: 2f28230c-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 0
    selector:
      deployment: apicast-production-2
      deploymentconfig: apicast-production
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "2"
          openshift.io/deployment-config.name: apicast-production
          openshift.io/deployment.name: apicast-production-2
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: apicast-production-2
          deploymentconfig: apicast-production
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            value: http://ohnchca2@system-provider:3000
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_CONFIGURATION_CACHE
            value: "300"
          - name: THREESCALE_DEPLOYMENT_ENV
            value: production
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: BACKEND_ENDPOINT_OVERRIDE
            value: http://backend-listener:3000
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "true"
          - name: REDIS_URL
            value: redis://system-redis:6379/1
          image: registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-production
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 8090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/original-replicas: "1"
      openshift.io/deployer-pod.completed-at: 2018-02-21 18:48:08 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-21 18:47:01 +0000 UTC
      openshift.io/deployer-pod.name: apicast-production-3-deploy
      openshift.io/deployment-config.latest-version: "3"
      openshift.io/deployment-config.name: apicast-production
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: ""
      openshift.io/deployment.status-reason: manual change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"apicast-production","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/apicast-production","uid":"2f28230c-075d-11e8-b959-52540064f8a5","resourceVersion":"336442093","generation":16,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":1800,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["apicast-production"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-apicast:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-production"},"template":{"metadata":{"creationTimestamp":null,"labels":{"deploymentconfig":"apicast-production"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"apicast-production","image":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8","ports":[{"containerPort":8080,"protocol":"TCP"},{"containerPort":8090,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","value":"http://ohnchca2@system-provider:3000"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_CONFIGURATION_CACHE","value":"300"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"production"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"BACKEND_ENDPOINT_OVERRIDE","value":"http://backend-listener:3000"},{"name":"OPENSSL_VERIFY","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"true"},{"name":"REDIS_URL","value":"redis://system-redis:6379/1"}],"resources":{},"livenessProbe":{"httpGet":{"path":"/status/live","port":8090,"scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":8090,"scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":5,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":3,"observedGeneration":15,"replicas":1,"updatedReplicas":1,"availableReplicas":0,"unavailableReplicas":1,"details":{"message":"manual change","causes":[{"type":"Manual"}]},"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2018-02-20T18:44:24Z","lastTransitionTime":"2018-02-20T18:44:04Z","reason":"NewReplicationControllerAvailable","message":"replication controller \"apicast-production-2\" successfully rolled out"},{"type":"Available","status":"False","lastUpdateTime":"2018-02-21T18:35:23Z","lastTransitionTime":"2018-02-21T18:35:23Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: apicast-production
    name: apicast-production-3
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-production
      uid: 2f28230c-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 0
    selector:
      deployment: apicast-production-3
      deploymentconfig: apicast-production
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "3"
          openshift.io/deployment-config.name: apicast-production
          openshift.io/deployment.name: apicast-production-3
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: apicast-production-3
          deploymentconfig: apicast-production
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            value: http://ohnchca2@system-provider:3000
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_CONFIGURATION_CACHE
            value: "300"
          - name: THREESCALE_DEPLOYMENT_ENV
            value: production
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: BACKEND_ENDPOINT_OVERRIDE
            value: http://backend-listener:3000
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "true"
          - name: REDIS_URL
            value: redis://system-redis:6379/1
          image: registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-production
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 8090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/original-replicas: "1"
      openshift.io/deployer-pod.completed-at: 2018-02-27 10:44:45 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-27 10:41:33 +0000 UTC
      openshift.io/deployer-pod.name: apicast-production-4-deploy
      openshift.io/deployment-config.latest-version: "4"
      openshift.io/deployment-config.name: apicast-production
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: ""
      openshift.io/deployment.status-reason: manual change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"apicast-production","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/apicast-production","uid":"2f28230c-075d-11e8-b959-52540064f8a5","resourceVersion":"367467883","generation":17,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":1800,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["apicast-production"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-apicast:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-production"},"template":{"metadata":{"creationTimestamp":null,"labels":{"deploymentconfig":"apicast-production"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"apicast-production","image":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8","ports":[{"containerPort":8080,"protocol":"TCP"},{"containerPort":8090,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","value":"http://ohnchca2@system-provider:3000"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_CONFIGURATION_CACHE","value":"300"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"production"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"BACKEND_ENDPOINT_OVERRIDE","value":"http://backend-listener:3000"},{"name":"OPENSSL_VERIFY","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"true"},{"name":"REDIS_URL","value":"redis://system-redis:6379/1"}],"resources":{},"livenessProbe":{"httpGet":{"path":"/status/live","port":8090,"scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":8090,"scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":5,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":4,"observedGeneration":16,"replicas":1,"updatedReplicas":1,"availableReplicas":1,"unavailableReplicas":0,"details":{"message":"manual change","causes":[{"type":"Manual"}]},"conditions":[{"type":"Available","status":"True","lastUpdateTime":"2018-02-21T18:48:06Z","lastTransitionTime":"2018-02-21T18:48:06Z","message":"Deployment config has minimum availability."},{"type":"Progressing","status":"True","lastUpdateTime":"2018-02-21T18:48:29Z","lastTransitionTime":"2018-02-21T18:48:06Z","reason":"NewReplicationControllerAvailable","message":"replication controller \"apicast-production-3\" successfully rolled out"}],"readyReplicas":1}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: apicast-production
    name: apicast-production-4
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-production
      uid: 2f28230c-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 0
    selector:
      deployment: apicast-production-4
      deploymentconfig: apicast-production
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "4"
          openshift.io/deployment-config.name: apicast-production
          openshift.io/deployment.name: apicast-production-4
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: apicast-production-4
          deploymentconfig: apicast-production
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            value: http://ohnchca2@system-provider:3000
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_CONFIGURATION_CACHE
            value: "300"
          - name: THREESCALE_DEPLOYMENT_ENV
            value: production
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: BACKEND_ENDPOINT_OVERRIDE
            value: http://backend-listener:3000
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "true"
          - name: REDIS_URL
            value: redis://system-redis:6379/1
          image: registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-production
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 8090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-27 12:52:51 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-27 12:51:44 +0000 UTC
      openshift.io/deployer-pod.name: apicast-production-5-deploy
      openshift.io/deployment-config.latest-version: "5"
      openshift.io/deployment-config.name: apicast-production
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: ""
      openshift.io/deployment.status-reason: manual change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"apicast-production","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/apicast-production","uid":"2f28230c-075d-11e8-b959-52540064f8a5","resourceVersion":"367976003","generation":18,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":1800,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["apicast-production"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-apicast:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-production"},"template":{"metadata":{"creationTimestamp":null,"labels":{"deploymentconfig":"apicast-production"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"apicast-production","image":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8","ports":[{"containerPort":8080,"protocol":"TCP"},{"containerPort":8090,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","value":"http://ohnchca2@system-provider:3000"},{"name":"APICAST_CONFIGURATION_LOADER","value":"boot"},{"name":"APICAST_CONFIGURATION_CACHE","value":"300"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"production"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"BACKEND_ENDPOINT_OVERRIDE","value":"http://backend-listener:3000"},{"name":"OPENSSL_VERIFY","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"true"},{"name":"REDIS_URL","value":"redis://system-redis:6379/1"}],"resources":{},"livenessProbe":{"httpGet":{"path":"/status/live","port":8090,"scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":8090,"scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":5,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":5,"observedGeneration":17,"replicas":1,"updatedReplicas":1,"availableReplicas":1,"unavailableReplicas":0,"details":{"message":"manual change","causes":[{"type":"Manual"}]},"conditions":[{"type":"Available","status":"True","lastUpdateTime":"2018-02-21T18:48:06Z","lastTransitionTime":"2018-02-21T18:48:06Z","message":"Deployment config has minimum availability."},{"type":"Progressing","status":"True","lastUpdateTime":"2018-02-27T10:44:46Z","lastTransitionTime":"2018-02-27T10:44:44Z","reason":"NewReplicationControllerAvailable","message":"replication controller \"apicast-production-4\" successfully rolled out"}],"readyReplicas":1}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: apicast-production
    name: apicast-production-5
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-production
      uid: 2f28230c-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: apicast-production-5
      deploymentconfig: apicast-production
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "5"
          openshift.io/deployment-config.name: apicast-production
          openshift.io/deployment.name: apicast-production-5
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: apicast-production-5
          deploymentconfig: apicast-production
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            value: http://ohnchca2@system-provider:3000
          - name: APICAST_CONFIGURATION_LOADER
            value: boot
          - name: APICAST_CONFIGURATION_CACHE
            value: "300"
          - name: THREESCALE_DEPLOYMENT_ENV
            value: production
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: BACKEND_ENDPOINT_OVERRIDE
            value: http://backend-listener:3000
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "true"
          - name: REDIS_URL
            value: redis://system-redis:6379/1
          image: registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-production
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 8090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/original-replicas: "1"
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:40:13 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:45 +0000 UTC
      openshift.io/deployer-pod.name: apicast-staging-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: apicast-staging
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"apicast-staging","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/apicast-staging","uid":"2f202474-075d-11e8-b959-52540064f8a5","resourceVersion":"242426989","generation":2,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":1800,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["apicast-staging"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-apicast:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-staging"},"template":{"metadata":{"creationTimestamp":null,"labels":{"deploymentconfig":"apicast-staging"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"apicast-staging","image":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8","ports":[{"containerPort":8080,"protocol":"TCP"},{"containerPort":8090,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","value":"http://ohnchca2@system-provider:3000"},{"name":"APICAST_CONFIGURATION_LOADER","value":"lazy"},{"name":"APICAST_CONFIGURATION_CACHE","value":"0"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"sandbox"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"BACKEND_ENDPOINT_OVERRIDE","value":"http://backend-listener:3000"},{"name":"OPENSSL_VERIFY","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"true"},{"name":"REDIS_URL","value":"redis://system-redis:6379/2"}],"resources":{},"livenessProbe":{"httpGet":{"path":"/status/live","port":8090,"scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":8090,"scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":5,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:43Z","lastTransitionTime":"2018-02-01T14:35:43Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: apicast-staging
    name: apicast-staging-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-staging
      uid: 2f202474-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 0
    selector:
      deployment: apicast-staging-1
      deploymentconfig: apicast-staging
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: apicast-staging
          openshift.io/deployment.name: apicast-staging-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: apicast-staging-1
          deploymentconfig: apicast-staging
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            value: http://ohnchca2@system-provider:3000
          - name: APICAST_CONFIGURATION_LOADER
            value: lazy
          - name: APICAST_CONFIGURATION_CACHE
            value: "0"
          - name: THREESCALE_DEPLOYMENT_ENV
            value: sandbox
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: BACKEND_ENDPOINT_OVERRIDE
            value: http://backend-listener:3000
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "true"
          - name: REDIS_URL
            value: redis://system-redis:6379/2
          image: registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-staging
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 8090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/original-replicas: "1"
      openshift.io/deployer-pod.completed-at: 2018-02-27 10:44:01 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-27 10:41:45 +0000 UTC
      openshift.io/deployer-pod.name: apicast-staging-2-deploy
      openshift.io/deployment-config.latest-version: "2"
      openshift.io/deployment-config.name: apicast-staging
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: ""
      openshift.io/deployment.status-reason: manual change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"apicast-staging","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/apicast-staging","uid":"2f202474-075d-11e8-b959-52540064f8a5","resourceVersion":"367468700","generation":3,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":1800,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["apicast-staging"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-apicast:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-staging"},"template":{"metadata":{"creationTimestamp":null,"labels":{"deploymentconfig":"apicast-staging"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"apicast-staging","image":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8","ports":[{"containerPort":8080,"protocol":"TCP"},{"containerPort":8090,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","value":"http://ohnchca2@system-provider:3000"},{"name":"APICAST_CONFIGURATION_LOADER","value":"lazy"},{"name":"APICAST_CONFIGURATION_CACHE","value":"0"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"sandbox"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"BACKEND_ENDPOINT_OVERRIDE","value":"http://backend-listener:3000"},{"name":"OPENSSL_VERIFY","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"true"},{"name":"REDIS_URL","value":"redis://system-redis:6379/2"}],"resources":{},"livenessProbe":{"httpGet":{"path":"/status/live","port":8090,"scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":8090,"scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":5,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":2,"observedGeneration":2,"replicas":1,"updatedReplicas":1,"availableReplicas":1,"unavailableReplicas":0,"details":{"message":"manual change","causes":[{"type":"Manual"}]},"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2018-02-01T14:40:16Z","lastTransitionTime":"2018-02-01T14:40:16Z","reason":"NewReplicationControllerAvailable","message":"replication controller \"apicast-staging-1\" successfully rolled out"},{"type":"Available","status":"True","lastUpdateTime":"2018-02-18T08:12:55Z","lastTransitionTime":"2018-02-18T08:12:55Z","message":"Deployment config has minimum availability."}],"readyReplicas":1}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: apicast-staging
    name: apicast-staging-2
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-staging
      uid: 2f202474-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 0
    selector:
      deployment: apicast-staging-2
      deploymentconfig: apicast-staging
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "2"
          openshift.io/deployment-config.name: apicast-staging
          openshift.io/deployment.name: apicast-staging-2
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: apicast-staging-2
          deploymentconfig: apicast-staging
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            value: http://ohnchca2@system-provider:3000
          - name: APICAST_CONFIGURATION_LOADER
            value: lazy
          - name: APICAST_CONFIGURATION_CACHE
            value: "0"
          - name: THREESCALE_DEPLOYMENT_ENV
            value: sandbox
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: BACKEND_ENDPOINT_OVERRIDE
            value: http://backend-listener:3000
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "true"
          - name: REDIS_URL
            value: redis://system-redis:6379/2
          image: registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-staging
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 8090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-27 12:55:10 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-27 12:51:52 +0000 UTC
      openshift.io/deployer-pod.name: apicast-staging-3-deploy
      openshift.io/deployment-config.latest-version: "3"
      openshift.io/deployment-config.name: apicast-staging
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: ""
      openshift.io/deployment.status-reason: manual change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"apicast-staging","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/apicast-staging","uid":"2f202474-075d-11e8-b959-52540064f8a5","resourceVersion":"367976516","generation":4,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":1800,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["apicast-staging"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-apicast:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-staging"},"template":{"metadata":{"creationTimestamp":null,"labels":{"deploymentconfig":"apicast-staging"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"apicast-staging","image":"registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8","ports":[{"containerPort":8080,"protocol":"TCP"},{"containerPort":8090,"protocol":"TCP"}],"env":[{"name":"THREESCALE_PORTAL_ENDPOINT","value":"http://ohnchca2@system-provider:3000"},{"name":"APICAST_CONFIGURATION_LOADER","value":"lazy"},{"name":"APICAST_CONFIGURATION_CACHE","value":"0"},{"name":"THREESCALE_DEPLOYMENT_ENV","value":"sandbox"},{"name":"APICAST_MANAGEMENT_API","value":"status"},{"name":"BACKEND_ENDPOINT_OVERRIDE","value":"http://backend-listener:3000"},{"name":"OPENSSL_VERIFY","value":"false"},{"name":"APICAST_RESPONSE_CODES","value":"true"},{"name":"REDIS_URL","value":"redis://system-redis:6379/2"}],"resources":{},"livenessProbe":{"httpGet":{"path":"/status/live","port":8090,"scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":8090,"scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":5,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":3,"observedGeneration":3,"replicas":1,"updatedReplicas":1,"availableReplicas":1,"unavailableReplicas":0,"details":{"message":"manual change","causes":[{"type":"Manual"}]},"conditions":[{"type":"Available","status":"True","lastUpdateTime":"2018-02-18T08:12:55Z","lastTransitionTime":"2018-02-18T08:12:55Z","message":"Deployment config has minimum availability."},{"type":"Progressing","status":"True","lastUpdateTime":"2018-02-27T10:44:02Z","lastTransitionTime":"2018-02-27T10:44:00Z","reason":"NewReplicationControllerAvailable","message":"replication controller \"apicast-staging-2\" successfully rolled out"}],"readyReplicas":1}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: apicast-staging
    name: apicast-staging-3
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-staging
      uid: 2f202474-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: apicast-staging-3
      deploymentconfig: apicast-staging
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "3"
          openshift.io/deployment-config.name: apicast-staging
          openshift.io/deployment.name: apicast-staging-3
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: apicast-staging-3
          deploymentconfig: apicast-staging
      spec:
        containers:
        - env:
          - name: THREESCALE_PORTAL_ENDPOINT
            value: http://ohnchca2@system-provider:3000
          - name: APICAST_CONFIGURATION_LOADER
            value: lazy
          - name: APICAST_CONFIGURATION_CACHE
            value: "0"
          - name: THREESCALE_DEPLOYMENT_ENV
            value: sandbox
          - name: APICAST_MANAGEMENT_API
            value: status
          - name: BACKEND_ENDPOINT_OVERRIDE
            value: http://backend-listener:3000
          - name: OPENSSL_VERIFY
            value: "false"
          - name: APICAST_RESPONSE_CODES
            value: "true"
          - name: REDIS_URL
            value: redis://system-redis:6379/2
          image: registry.access.redhat.com/3scale-amp21/apicast-gateway@sha256:313df5722ddd866d43758af161e5932dfd4648b99a5c57acfddfc2a955669fe8
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: apicast-staging
          ports:
          - containerPort: 8080
            protocol: TCP
          - containerPort: 8090
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: 8090
              scheme: HTTP
            initialDelaySeconds: 15
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:37:33 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:45 +0000 UTC
      openshift.io/deployer-pod.name: apicast-wildcard-router-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: apicast-wildcard-router
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"apicast-wildcard-router","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/apicast-wildcard-router","uid":"2f40d9ea-075d-11e8-b959-52540064f8a5","resourceVersion":"242426976","generation":2,"creationTimestamp":"2018-02-01T14:35:44Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":1800,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["apicast-wildcard-router"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-wildcard-router:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/wildcard-router@sha256:bb08c3f5c1e573018fa69ebb34d841ea054638744289235c6bf862c1c81b176f"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"deploymentconfig":"apicast-wildcard-router"},"template":{"metadata":{"creationTimestamp":null,"labels":{"deploymentconfig":"apicast-wildcard-router"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"apicast-wildcard-router","image":"registry.access.redhat.com/3scale-amp21/wildcard-router@sha256:bb08c3f5c1e573018fa69ebb34d841ea054638744289235c6bf862c1c81b176f","ports":[{"name":"http","containerPort":8080,"protocol":"TCP"}],"env":[{"name":"API_HOST","value":"http://system-provider:3000"},{"name":"ACCESS_TOKEN","value":"ohnchca2"}],"resources":{},"livenessProbe":{"tcpSocket":{"port":"http"},"initialDelaySeconds":30,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:44Z","lastTransitionTime":"2018-02-01T14:35:44Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: apicast-wildcard-router
    name: apicast-wildcard-router-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: apicast-wildcard-router
      uid: 2f40d9ea-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: apicast-wildcard-router-1
      deploymentconfig: apicast-wildcard-router
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: apicast-wildcard-router
          openshift.io/deployment.name: apicast-wildcard-router-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: apicast-wildcard-router-1
          deploymentconfig: apicast-wildcard-router
      spec:
        containers:
        - env:
          - name: API_HOST
            value: http://system-provider:3000
          - name: ACCESS_TOKEN
            value: ohnchca2
          image: registry.access.redhat.com/3scale-amp21/wildcard-router@sha256:bb08c3f5c1e573018fa69ebb34d841ea054638744289235c6bf862c1c81b176f
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: http
            timeoutSeconds: 1
          name: apicast-wildcard-router
          ports:
          - containerPort: 8080
            name: http
            protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:39:10 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:45 +0000 UTC
      openshift.io/deployer-pod.name: backend-cron-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: backend-cron
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"backend-cron","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/backend-cron","uid":"2ecbb0a5-075d-11e8-b959-52540064f8a5","resourceVersion":"242426957","generation":2,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["backend-cron"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-backend:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"backend-cron"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"backend-cron"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"backend-cron","image":"registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842","args":["backend-cron"],"env":[{"name":"CONFIG_REDIS_PROXY","value":"backend-redis:6379"},{"name":"CONFIG_QUEUES_MASTER_NAME","value":"backend-redis:6379/1"},{"name":"RACK_ENV","value":"production"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:43Z","lastTransitionTime":"2018-02-01T14:35:43Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: backend-cron
    name: backend-cron-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: backend-cron
      uid: 2ecbb0a5-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: backend-cron-1
      deploymentconfig: backend-cron
      name: backend-cron
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: backend-cron
          openshift.io/deployment.name: backend-cron-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: backend-cron-1
          deploymentconfig: backend-cron
          name: backend-cron
      spec:
        containers:
        - args:
          - backend-cron
          env:
          - name: CONFIG_REDIS_PROXY
            value: backend-redis:6379
          - name: CONFIG_QUEUES_MASTER_NAME
            value: backend-redis:6379/1
          - name: RACK_ENV
            value: production
          image: registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842
          imagePullPolicy: Always
          name: backend-cron
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:40:56 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:45 +0000 UTC
      openshift.io/deployer-pod.name: backend-listener-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: backend-listener
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"backend-listener","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/backend-listener","uid":"2ecfd5ac-075d-11e8-b959-52540064f8a5","resourceVersion":"242426956","generation":2,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["backend-listener"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-backend:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"backend-listener"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"backend-listener"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"backend-listener","image":"registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842","args":["bin/3scale_backend","start","-e","production","-p","3000","-x","/dev/stdout"],"ports":[{"containerPort":3000,"protocol":"TCP"}],"env":[{"name":"CONFIG_REDIS_PROXY","value":"backend-redis:6379"},{"name":"CONFIG_QUEUES_MASTER_NAME","value":"backend-redis:6379/1"},{"name":"RACK_ENV","value":"production"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"}],"resources":{},"livenessProbe":{"tcpSocket":{"port":3000},"initialDelaySeconds":30,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status","port":3000,"scheme":"HTTP"},"initialDelaySeconds":30,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:43Z","lastTransitionTime":"2018-02-01T14:35:43Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: backend-listener
    name: backend-listener-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: backend-listener
      uid: 2ecfd5ac-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: backend-listener-1
      deploymentconfig: backend-listener
      name: backend-listener
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: backend-listener
          openshift.io/deployment.name: backend-listener-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: backend-listener-1
          deploymentconfig: backend-listener
          name: backend-listener
      spec:
        containers:
        - args:
          - bin/3scale_backend
          - start
          - -e
          - production
          - -p
          - "3000"
          - -x
          - /dev/stdout
          env:
          - name: CONFIG_REDIS_PROXY
            value: backend-redis:6379
          - name: CONFIG_QUEUES_MASTER_NAME
            value: backend-redis:6379/1
          - name: RACK_ENV
            value: production
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          image: registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 3000
            timeoutSeconds: 1
          name: backend-listener
          ports:
          - containerPort: 3000
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status
              port: 3000
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:40:07 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:43 +0000 UTC
      openshift.io/deployer-pod.name: backend-redis-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: backend-redis
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"backend-redis","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/backend-redis","uid":"2ece0b4f-075d-11e8-b959-52540064f8a5","resourceVersion":"242426726","generation":1,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Recreate","recreateParams":{"timeoutSeconds":600},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"backend-redis"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"backend-redis"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"volumes":[{"name":"backend-redis-storage","persistentVolumeClaim":{"claimName":"backend-redis-storage"}},{"name":"redis-config","configMap":{"name":"redis-config","items":[{"key":"redis.conf","path":"redis.conf"}],"defaultMode":420}}],"containers":[{"name":"backend-redis","image":"rhscl/redis-32-rhel7:3.2","resources":{},"volumeMounts":[{"name":"backend-redis-storage","mountPath":"/var/lib/redis/data"},{"name":"redis-config","mountPath":"/etc/redis.conf","subPath":"redis.conf"}],"livenessProbe":{"tcpSocket":{"port":6379},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["container-entrypoint","bash","-c","redis-cli set liveness-probe \"`date`\" | grep OK"]},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":1,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:43Z","lastTransitionTime":"2018-02-01T14:35:43Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: backend-redis
    name: backend-redis-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: backend-redis
      uid: 2ece0b4f-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: backend-redis-1
      deploymentconfig: backend-redis
      name: backend-redis
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: backend-redis
          openshift.io/deployment.name: backend-redis-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: backend-redis-1
          deploymentconfig: backend-redis
          name: backend-redis
      spec:
        containers:
        - image: rhscl/redis-32-rhel7:3.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 6379
            timeoutSeconds: 1
          name: backend-redis
          readinessProbe:
            exec:
              command:
              - container-entrypoint
              - bash
              - -c
              - redis-cli set liveness-probe "`date`" | grep OK
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 1
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/redis/data
            name: backend-redis-storage
          - mountPath: /etc/redis.conf
            name: redis-config
            subPath: redis.conf
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: backend-redis-storage
          persistentVolumeClaim:
            claimName: backend-redis-storage
        - configMap:
            defaultMode: 420
            items:
            - key: redis.conf
              path: redis.conf
            name: redis-config
          name: redis-config
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:40:25 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:45 +0000 UTC
      openshift.io/deployer-pod.name: backend-worker-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: backend-worker
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"backend-worker","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/backend-worker","uid":"2ee80caa-075d-11e8-b959-52540064f8a5","resourceVersion":"242426961","generation":2,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["backend-worker"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-backend:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"backend-worker"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"backend-worker"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"backend-worker","image":"registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842","args":["bin/3scale_backend_worker","run"],"env":[{"name":"CONFIG_REDIS_PROXY","value":"backend-redis:6379"},{"name":"CONFIG_QUEUES_MASTER_NAME","value":"backend-redis:6379/1"},{"name":"RACK_ENV","value":"production"},{"name":"CONFIG_EVENTS_HOOK","value":"http://system-provider:3000/master/events/import"},{"name":"CONFIG_EVENTS_HOOK_SHARED_SECRET","value":"084qnjji"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:43Z","lastTransitionTime":"2018-02-01T14:35:43Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: backend-worker
    name: backend-worker-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: backend-worker
      uid: 2ee80caa-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: backend-worker-1
      deploymentconfig: backend-worker
      name: backend-worker
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: backend-worker
          openshift.io/deployment.name: backend-worker-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: backend-worker-1
          deploymentconfig: backend-worker
          name: backend-worker
      spec:
        containers:
        - args:
          - bin/3scale_backend_worker
          - run
          env:
          - name: CONFIG_REDIS_PROXY
            value: backend-redis:6379
          - name: CONFIG_QUEUES_MASTER_NAME
            value: backend-redis:6379/1
          - name: RACK_ENV
            value: production
          - name: CONFIG_EVENTS_HOOK
            value: http://system-provider:3000/master/events/import
          - name: CONFIG_EVENTS_HOOK_SHARED_SECRET
            value: 084qnjji
          image: registry.access.redhat.com/3scale-amp21/backend@sha256:4de0bf86d50462a53f461ae5b57d8321d1cc4505d433071512d0427574897842
          imagePullPolicy: Always
          name: backend-worker
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/original-replicas: "1"
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:48:32 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:45 +0000 UTC
      openshift.io/deployer-pod.name: system-app-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: system-app
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"system-app","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/system-app","uid":"2f5daf9a-075d-11e8-b959-52540064f8a5","resourceVersion":"242426960","generation":2,"creationTimestamp":"2018-02-01T14:35:44Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%","pre":{"failurePolicy":"Retry","execNewPod":{"command":["bash","-c","bundle exec rake boot openshift:deploy"],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"true"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"containerName":"system-provider","volumes":["system-storage"]}},"post":{"failurePolicy":"Abort","execNewPod":{"command":["bash","-c","bundle exec rake boot openshift:post_deploy"],"containerName":"system-provider"}}},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["system-provider","system-developer"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-system:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"system-app"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"system-app"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"volumes":[{"name":"system-storage","persistentVolumeClaim":{"claimName":"system-storage"}},{"name":"system-config","configMap":{"name":"system","items":[{"key":"zync.yml","path":"zync.yml"},{"key":"rolling_updates.yml","path":"rolling_updates.yml"}],"defaultMode":420}}],"containers":[{"name":"system-provider","image":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1","command":["env","TENANT_MODE=provider","PORT=3000","container-entrypoint","bundle","exec","unicorn","-c","config/unicorn.rb"],"ports":[{"name":"provider","containerPort":3000,"protocol":"TCP"}],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"true"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"resources":{},"volumeMounts":[{"name":"system-storage","mountPath":"/opt/system/public/system"},{"name":"system-config","mountPath":"/opt/system/config/zync.yml","subPath":"zync.yml"},{"name":"system-config","mountPath":"/opt/system/config/rolling_updates.yml","subPath":"rolling_updates.yml"}],"livenessProbe":{"tcpSocket":{"port":"provider"},"initialDelaySeconds":20,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/check.txt","port":"provider","scheme":"HTTP","httpHeaders":[{"name":"X-Forwarded-Proto","value":"https"}]},"initialDelaySeconds":30,"timeoutSeconds":10,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"},{"name":"system-developer","image":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1","command":["env","TENANT_MODE=developer","PORT=3001","container-entrypoint","bundle","exec","unicorn","-c","config/unicorn.rb"],"ports":[{"name":"developer","containerPort":3001,"protocol":"TCP"}],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"true"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"resources":{},"volumeMounts":[{"name":"system-storage","readOnly":true,"mountPath":"/opt/system/public/system"},{"name":"system-config","mountPath":"/opt/system/config/zync.yml","subPath":"zync.yml"},{"name":"system-config","mountPath":"/opt/system/config/rolling_updates.yml","subPath":"rolling_updates.yml"}],"livenessProbe":{"tcpSocket":{"port":"developer"},"initialDelaySeconds":20,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/check.txt","port":"developer","scheme":"HTTP","httpHeaders":[{"name":"X-Forwarded-Proto","value":"https"}]},"initialDelaySeconds":30,"timeoutSeconds":10,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:44Z","lastTransitionTime":"2018-02-01T14:35:44Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: system-app
    name: system-app-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: system-app
      uid: 2f5daf9a-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 0
    selector:
      deployment: system-app-1
      deploymentconfig: system-app
      name: system-app
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: system-app
          openshift.io/deployment.name: system-app-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: system-app-1
          deploymentconfig: system-app
          name: system-app
      spec:
        containers:
        - command:
          - env
          - TENANT_MODE=provider
          - PORT=3000
          - container-entrypoint
          - bundle
          - exec
          - unicorn
          - -c
          - config/unicorn.rb
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 20
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: provider
            timeoutSeconds: 10
          name: system-provider
          ports:
          - containerPort: 3000
            name: provider
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              httpHeaders:
              - name: X-Forwarded-Proto
                value: https
              path: /check.txt
              port: provider
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 10
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
          - mountPath: /opt/system/config/zync.yml
            name: system-config
            subPath: zync.yml
          - mountPath: /opt/system/config/rolling_updates.yml
            name: system-config
            subPath: rolling_updates.yml
        - command:
          - env
          - TENANT_MODE=developer
          - PORT=3001
          - container-entrypoint
          - bundle
          - exec
          - unicorn
          - -c
          - config/unicorn.rb
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 20
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: developer
            timeoutSeconds: 10
          name: system-developer
          ports:
          - containerPort: 3001
            name: developer
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              httpHeaders:
              - name: X-Forwarded-Proto
                value: https
              path: /check.txt
              port: developer
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 10
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
            readOnly: true
          - mountPath: /opt/system/config/zync.yml
            name: system-config
            subPath: zync.yml
          - mountPath: /opt/system/config/rolling_updates.yml
            name: system-config
            subPath: rolling_updates.yml
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: system-storage
          persistentVolumeClaim:
            claimName: system-storage
        - configMap:
            defaultMode: 420
            items:
            - key: zync.yml
              path: zync.yml
            - key: rolling_updates.yml
              path: rolling_updates.yml
            name: system
          name: system-config
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      kubectl.kubernetes.io/desired-replicas: "1"
      openshift.io/deployer-pod.created-at: 2018-02-07 14:48:14 +0000 UTC
      openshift.io/deployer-pod.name: system-app-2-deploy
      openshift.io/deployment-config.latest-version: "2"
      openshift.io/deployment-config.name: system-app
      openshift.io/deployment.cancelled: "true"
      openshift.io/deployment.phase: Failed
      openshift.io/deployment.replicas: "0"
      openshift.io/deployment.status-reason: newer deployment was found running
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"system-app","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/system-app","uid":"2f5daf9a-075d-11e8-b959-52540064f8a5","resourceVersion":"260186119","generation":3,"creationTimestamp":"2018-02-01T14:35:44Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%","pre":{"failurePolicy":"Retry","execNewPod":{"command":["bash","-c","bundle exec rake boot openshift:deploy"],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"true"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"containerName":"system-provider","volumes":["system-storage"]}},"post":{"failurePolicy":"Abort","execNewPod":{"command":["bash","-c","bundle exec rake boot openshift:post_deploy"],"containerName":"system-provider"}}},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["system-provider","system-developer"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-system:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"system-app"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"system-app"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"volumes":[{"name":"system-storage","persistentVolumeClaim":{"claimName":"system-storage"}},{"name":"system-config","configMap":{"name":"system","items":[{"key":"zync.yml","path":"zync.yml"},{"key":"rolling_updates.yml","path":"rolling_updates.yml"}],"defaultMode":420}}],"containers":[{"name":"system-provider","image":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1","command":["env","TENANT_MODE=provider","PORT=3000","container-entrypoint","bundle","exec","unicorn","-c","config/unicorn.rb"],"ports":[{"name":"provider","containerPort":3000,"protocol":"TCP"}],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"false"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"resources":{},"volumeMounts":[{"name":"system-storage","mountPath":"/opt/system/public/system"},{"name":"system-config","mountPath":"/opt/system/config/zync.yml","subPath":"zync.yml"},{"name":"system-config","mountPath":"/opt/system/config/rolling_updates.yml","subPath":"rolling_updates.yml"}],"livenessProbe":{"tcpSocket":{"port":"provider"},"initialDelaySeconds":20,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/check.txt","port":"provider","scheme":"HTTP","httpHeaders":[{"name":"X-Forwarded-Proto","value":"https"}]},"initialDelaySeconds":30,"timeoutSeconds":10,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"},{"name":"system-developer","image":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1","command":["env","TENANT_MODE=developer","PORT=3001","container-entrypoint","bundle","exec","unicorn","-c","config/unicorn.rb"],"ports":[{"name":"developer","containerPort":3001,"protocol":"TCP"}],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"true"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"resources":{},"volumeMounts":[{"name":"system-storage","readOnly":true,"mountPath":"/opt/system/public/system"},{"name":"system-config","mountPath":"/opt/system/config/zync.yml","subPath":"zync.yml"},{"name":"system-config","mountPath":"/opt/system/config/rolling_updates.yml","subPath":"rolling_updates.yml"}],"livenessProbe":{"tcpSocket":{"port":"developer"},"initialDelaySeconds":20,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/check.txt","port":"developer","scheme":"HTTP","httpHeaders":[{"name":"X-Forwarded-Proto","value":"https"}]},"initialDelaySeconds":30,"timeoutSeconds":10,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":2,"observedGeneration":3,"replicas":1,"updatedReplicas":0,"availableReplicas":1,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2018-02-01T14:48:35Z","lastTransitionTime":"2018-02-01T14:44:13Z","reason":"NewReplicationControllerAvailable","message":"replication controller \"system-app-1\" successfully rolled out"},{"type":"Available","status":"True","lastUpdateTime":"2018-02-07T11:43:11Z","lastTransitionTime":"2018-02-07T11:43:11Z","message":"Deployment config has minimum availability."}],"readyReplicas":1}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: system-app
    name: system-app-2
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: system-app
      uid: 2f5daf9a-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 0
    selector:
      deployment: system-app-2
      deploymentconfig: system-app
      name: system-app
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "2"
          openshift.io/deployment-config.name: system-app
          openshift.io/deployment.name: system-app-2
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: system-app-2
          deploymentconfig: system-app
          name: system-app
      spec:
        containers:
        - command:
          - env
          - TENANT_MODE=provider
          - PORT=3000
          - container-entrypoint
          - bundle
          - exec
          - unicorn
          - -c
          - config/unicorn.rb
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "false"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 20
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: provider
            timeoutSeconds: 10
          name: system-provider
          ports:
          - containerPort: 3000
            name: provider
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              httpHeaders:
              - name: X-Forwarded-Proto
                value: https
              path: /check.txt
              port: provider
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 10
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
          - mountPath: /opt/system/config/zync.yml
            name: system-config
            subPath: zync.yml
          - mountPath: /opt/system/config/rolling_updates.yml
            name: system-config
            subPath: rolling_updates.yml
        - command:
          - env
          - TENANT_MODE=developer
          - PORT=3001
          - container-entrypoint
          - bundle
          - exec
          - unicorn
          - -c
          - config/unicorn.rb
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 20
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: developer
            timeoutSeconds: 10
          name: system-developer
          ports:
          - containerPort: 3001
            name: developer
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              httpHeaders:
              - name: X-Forwarded-Proto
                value: https
              path: /check.txt
              port: developer
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 10
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
            readOnly: true
          - mountPath: /opt/system/config/zync.yml
            name: system-config
            subPath: zync.yml
          - mountPath: /opt/system/config/rolling_updates.yml
            name: system-config
            subPath: rolling_updates.yml
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: system-storage
          persistentVolumeClaim:
            claimName: system-storage
        - configMap:
            defaultMode: 420
            items:
            - key: zync.yml
              path: zync.yml
            - key: rolling_updates.yml
              path: rolling_updates.yml
            name: system
          name: system-config
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-07 14:49:54 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-07 14:48:27 +0000 UTC
      openshift.io/deployer-pod.name: system-app-3-deploy
      openshift.io/deployment-config.latest-version: "3"
      openshift.io/deployment-config.name: system-app
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: ""
      openshift.io/deployment.status-reason: manual change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"system-app","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/system-app","uid":"2f5daf9a-075d-11e8-b959-52540064f8a5","resourceVersion":"260186389","generation":4,"creationTimestamp":"2018-02-01T14:35:44Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%","pre":{"failurePolicy":"Retry","execNewPod":{"command":["bash","-c","bundle exec rake boot openshift:deploy"],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"true"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"containerName":"system-provider","volumes":["system-storage"]}},"post":{"failurePolicy":"Abort","execNewPod":{"command":["bash","-c","bundle exec rake boot openshift:post_deploy"],"containerName":"system-provider"}}},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["system-provider","system-developer"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-system:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"system-app"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"system-app"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"volumes":[{"name":"system-storage","persistentVolumeClaim":{"claimName":"system-storage"}},{"name":"system-config","configMap":{"name":"system","items":[{"key":"zync.yml","path":"zync.yml"},{"key":"rolling_updates.yml","path":"rolling_updates.yml"}],"defaultMode":420}}],"containers":[{"name":"system-provider","image":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1","command":["env","TENANT_MODE=provider","PORT=3000","container-entrypoint","bundle","exec","unicorn","-c","config/unicorn.rb"],"ports":[{"name":"provider","containerPort":3000,"protocol":"TCP"}],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"false"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"resources":{},"volumeMounts":[{"name":"system-storage","mountPath":"/opt/system/public/system"},{"name":"system-config","mountPath":"/opt/system/config/zync.yml","subPath":"zync.yml"},{"name":"system-config","mountPath":"/opt/system/config/rolling_updates.yml","subPath":"rolling_updates.yml"}],"livenessProbe":{"tcpSocket":{"port":"provider"},"initialDelaySeconds":20,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/check.txt","port":"provider","scheme":"HTTP","httpHeaders":[{"name":"X-Forwarded-Proto","value":"https"}]},"initialDelaySeconds":30,"timeoutSeconds":10,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"},{"name":"system-developer","image":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1","command":["env","TENANT_MODE=developer","PORT=3001","container-entrypoint","bundle","exec","unicorn","-c","config/unicorn.rb"],"ports":[{"name":"developer","containerPort":3001,"protocol":"TCP"}],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"true"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"resources":{},"volumeMounts":[{"name":"system-storage","readOnly":true,"mountPath":"/opt/system/public/system"},{"name":"system-config","mountPath":"/opt/system/config/zync.yml","subPath":"zync.yml"},{"name":"system-config","mountPath":"/opt/system/config/rolling_updates.yml","subPath":"rolling_updates.yml"}],"livenessProbe":{"tcpSocket":{"port":"developer"},"initialDelaySeconds":20,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/check.txt","port":"developer","scheme":"HTTP","httpHeaders":[{"name":"X-Forwarded-Proto","value":"https"}]},"initialDelaySeconds":30,"timeoutSeconds":10,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":3,"observedGeneration":3,"replicas":1,"updatedReplicas":0,"availableReplicas":1,"unavailableReplicas":0,"details":{"message":"manual change","causes":[{"type":"Manual"}]},"conditions":[{"type":"Available","status":"True","lastUpdateTime":"2018-02-07T11:43:11Z","lastTransitionTime":"2018-02-07T11:43:11Z","message":"Deployment config has minimum availability."},{"type":"Progressing","status":"Unknown","lastUpdateTime":"2018-02-07T14:48:14Z","lastTransitionTime":"2018-02-07T14:48:14Z","message":"replication controller \"system-app-2\" is waiting for pod \"system-app-2-deploy\" to run"}],"readyReplicas":1}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: system-app
    name: system-app-3
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: system-app
      uid: 2f5daf9a-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: system-app-3
      deploymentconfig: system-app
      name: system-app
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "3"
          openshift.io/deployment-config.name: system-app
          openshift.io/deployment.name: system-app-3
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: system-app-3
          deploymentconfig: system-app
          name: system-app
      spec:
        containers:
        - command:
          - env
          - TENANT_MODE=provider
          - PORT=3000
          - container-entrypoint
          - bundle
          - exec
          - unicorn
          - -c
          - config/unicorn.rb
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "false"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 20
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: provider
            timeoutSeconds: 10
          name: system-provider
          ports:
          - containerPort: 3000
            name: provider
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              httpHeaders:
              - name: X-Forwarded-Proto
                value: https
              path: /check.txt
              port: provider
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 10
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
          - mountPath: /opt/system/config/zync.yml
            name: system-config
            subPath: zync.yml
          - mountPath: /opt/system/config/rolling_updates.yml
            name: system-config
            subPath: rolling_updates.yml
        - command:
          - env
          - TENANT_MODE=developer
          - PORT=3001
          - container-entrypoint
          - bundle
          - exec
          - unicorn
          - -c
          - config/unicorn.rb
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 20
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: developer
            timeoutSeconds: 10
          name: system-developer
          ports:
          - containerPort: 3001
            name: developer
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              httpHeaders:
              - name: X-Forwarded-Proto
                value: https
              path: /check.txt
              port: developer
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 10
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
            readOnly: true
          - mountPath: /opt/system/config/zync.yml
            name: system-config
            subPath: zync.yml
          - mountPath: /opt/system/config/rolling_updates.yml
            name: system-config
            subPath: rolling_updates.yml
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: system-storage
          persistentVolumeClaim:
            claimName: system-storage
        - configMap:
            defaultMode: 420
            items:
            - key: zync.yml
              path: zync.yml
            - key: rolling_updates.yml
              path: rolling_updates.yml
            name: system
          name: system-config
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:38:29 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:43 +0000 UTC
      openshift.io/deployer-pod.name: system-memcache-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: system-memcache
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"system-memcache","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/system-memcache","uid":"2f0dbc3b-075d-11e8-b959-52540064f8a5","resourceVersion":"242426802","generation":1,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"system-memcache"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"system-memcache"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"memcache","image":"3scale-amp20/memcached:1.4.15-8","command":["memcached","-m","64"],"resources":{},"livenessProbe":{"tcpSocket":{"port":11211},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["sh","-c","echo version | nc $HOSTNAME 11211 | grep VERSION"]},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":1,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:43Z","lastTransitionTime":"2018-02-01T14:35:43Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: system-memcache
    name: system-memcache-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: system-memcache
      uid: 2f0dbc3b-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: system-memcache-1
      deploymentconfig: system-memcache
      name: system-memcache
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: system-memcache
          openshift.io/deployment.name: system-memcache-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: system-memcache-1
          deploymentconfig: system-memcache
          name: system-memcache
      spec:
        containers:
        - command:
          - memcached
          - -m
          - "64"
          image: 3scale-amp20/memcached:1.4.15-8
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 11211
            timeoutSeconds: 1
          name: memcache
          readinessProbe:
            exec:
              command:
              - sh
              - -c
              - echo version | nc $HOSTNAME 11211 | grep VERSION
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:40:08 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:44 +0000 UTC
      openshift.io/deployer-pod.name: system-mysql-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: system-mysql
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"system-mysql","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/system-mysql","uid":"2f66bc7f-075d-11e8-b959-52540064f8a5","resourceVersion":"242426885","generation":1,"creationTimestamp":"2018-02-01T14:35:44Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Recreate","recreateParams":{"timeoutSeconds":600},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"system-mysql"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"system-mysql"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"volumes":[{"name":"mysql-storage","persistentVolumeClaim":{"claimName":"mysql-storage"}}],"containers":[{"name":"system-mysql","image":"rhscl/mysql-56-rhel7:5.6","ports":[{"containerPort":3306,"protocol":"TCP"}],"env":[{"name":"MYSQL_USER","value":"mysql"},{"name":"MYSQL_PASSWORD","value":"yp5w0ast"},{"name":"MYSQL_DATABASE","value":"system"},{"name":"MYSQL_ROOT_PASSWORD","value":"5sgo1wvm"},{"name":"MYSQL_LOWER_CASE_TABLE_NAMES","value":"1"}],"resources":{"limits":{"memory":"2Gi"},"requests":{"cpu":"1","memory":"1Gi"}},"volumeMounts":[{"name":"mysql-storage","mountPath":"/var/lib/mysql/data"}],"livenessProbe":{"tcpSocket":{"port":3306},"initialDelaySeconds":30,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/sh","-i","-c","MYSQL_PWD=\"$MYSQL_PASSWORD\" mysql -h 127.0.0.1 -u $MYSQL_USER -D $MYSQL_DATABASE -e 'SELECT 1'"]},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":1,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:44Z","lastTransitionTime":"2018-02-01T14:35:44Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: system-mysql
    name: system-mysql-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: system-mysql
      uid: 2f66bc7f-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 0
    selector:
      deployment: system-mysql-1
      deploymentconfig: system-mysql
      name: system-mysql
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: system-mysql
          openshift.io/deployment.name: system-mysql-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: system-mysql-1
          deploymentconfig: system-mysql
          name: system-mysql
      spec:
        containers:
        - env:
          - name: MYSQL_USER
            value: mysql
          - name: MYSQL_PASSWORD
            value: yp5w0ast
          - name: MYSQL_DATABASE
            value: system
          - name: MYSQL_ROOT_PASSWORD
            value: 5sgo1wvm
          - name: MYSQL_LOWER_CASE_TABLE_NAMES
            value: "1"
          image: rhscl/mysql-56-rhel7:5.6
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 3306
            timeoutSeconds: 1
          name: system-mysql
          ports:
          - containerPort: 3306
            protocol: TCP
          readinessProbe:
            exec:
              command:
              - /bin/sh
              - -i
              - -c
              - MYSQL_PWD="$MYSQL_PASSWORD" mysql -h 127.0.0.1 -u $MYSQL_USER -D $MYSQL_DATABASE
                -e 'SELECT 1'
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            limits:
              memory: 2Gi
            requests:
              cpu: "1"
              memory: 1Gi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/mysql/data
            name: mysql-storage
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: mysql-storage
          persistentVolumeClaim:
            claimName: mysql-storage
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-03-12 16:47:07 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-03-12 16:44:41 +0000 UTC
      openshift.io/deployer-pod.name: system-mysql-2-deploy
      openshift.io/deployment-config.latest-version: "2"
      openshift.io/deployment-config.name: system-mysql
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: manual change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"system-mysql","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/system-mysql","uid":"2f66bc7f-075d-11e8-b959-52540064f8a5","resourceVersion":"381478482","generation":2,"creationTimestamp":"2018-02-01T14:35:44Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Recreate","recreateParams":{"timeoutSeconds":600},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"system-mysql"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"system-mysql"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"volumes":[{"name":"mysql-storage","persistentVolumeClaim":{"claimName":"mysql-storage"}}],"containers":[{"name":"system-mysql","image":"rhscl/mysql-56-rhel7:5.6","ports":[{"containerPort":3306,"protocol":"TCP"}],"env":[{"name":"MYSQL_USER","value":"mysql"},{"name":"MYSQL_PASSWORD","value":"yp5w0ast"},{"name":"MYSQL_DATABASE","value":"system"},{"name":"MYSQL_ROOT_PASSWORD","value":"5sgo1wvm"},{"name":"MYSQL_LOWER_CASE_TABLE_NAMES","value":"1"}],"resources":{"limits":{"memory":"2Gi"},"requests":{"cpu":"1","memory":"1Gi"}},"volumeMounts":[{"name":"mysql-storage","mountPath":"/var/lib/mysql/data"}],"livenessProbe":{"tcpSocket":{"port":3306},"initialDelaySeconds":30,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/sh","-i","-c","MYSQL_PWD=\"$MYSQL_PASSWORD\" mysql -h 127.0.0.1 -u $MYSQL_USER -D $MYSQL_DATABASE -e 'SELECT 1'"]},"initialDelaySeconds":10,"timeoutSeconds":5,"periodSeconds":30,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":2,"observedGeneration":2,"replicas":1,"updatedReplicas":0,"availableReplicas":1,"unavailableReplicas":0,"details":{"message":"manual change","causes":[{"type":"Manual"}]},"conditions":[{"type":"Progressing","status":"False","lastUpdateTime":"2018-03-01T19:16:48Z","lastTransitionTime":"2018-03-01T19:16:48Z","reason":"ProgressDeadlineExceeded","message":"replication controller \"system-mysql-2\" has failed progressing"},{"type":"Available","status":"True","lastUpdateTime":"2018-03-02T14:52:40Z","lastTransitionTime":"2018-03-02T14:52:40Z","message":"Deployment config has minimum availability."}],"readyReplicas":1}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: system-mysql
    name: system-mysql-2
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: system-mysql
      uid: 2f66bc7f-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: system-mysql-2
      deploymentconfig: system-mysql
      name: system-mysql
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "2"
          openshift.io/deployment-config.name: system-mysql
          openshift.io/deployment.name: system-mysql-2
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: system-mysql-2
          deploymentconfig: system-mysql
          name: system-mysql
      spec:
        containers:
        - env:
          - name: MYSQL_USER
            value: mysql
          - name: MYSQL_PASSWORD
            value: yp5w0ast
          - name: MYSQL_DATABASE
            value: system
          - name: MYSQL_ROOT_PASSWORD
            value: 5sgo1wvm
          - name: MYSQL_LOWER_CASE_TABLE_NAMES
            value: "1"
          image: rhscl/mysql-56-rhel7:5.6
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 3306
            timeoutSeconds: 1
          name: system-mysql
          ports:
          - containerPort: 3306
            protocol: TCP
          readinessProbe:
            exec:
              command:
              - /bin/sh
              - -i
              - -c
              - MYSQL_PWD="$MYSQL_PASSWORD" mysql -h 127.0.0.1 -u $MYSQL_USER -D $MYSQL_DATABASE
                -e 'SELECT 1'
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 30
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            limits:
              memory: 2Gi
            requests:
              cpu: "1"
              memory: 1Gi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/mysql/data
            name: mysql-storage
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: mysql-storage
          persistentVolumeClaim:
            claimName: mysql-storage
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:40:31 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:43 +0000 UTC
      openshift.io/deployer-pod.name: system-redis-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: system-redis
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"system-redis","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/system-redis","uid":"2ef6fba8-075d-11e8-b959-52540064f8a5","resourceVersion":"242426776","generation":1,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Recreate","recreateParams":{"timeoutSeconds":600},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"system-redis"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"system-redis"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"volumes":[{"name":"system-redis-storage","persistentVolumeClaim":{"claimName":"system-redis-storage"}},{"name":"redis-config","configMap":{"name":"redis-config","items":[{"key":"redis.conf","path":"redis.conf"}],"defaultMode":420}}],"containers":[{"name":"system-redis","image":"rhscl/redis-32-rhel7:3.2","resources":{},"volumeMounts":[{"name":"system-redis-storage","mountPath":"/var/lib/redis/data"},{"name":"redis-config","mountPath":"/etc/redis.conf","subPath":"redis.conf"}],"livenessProbe":{"tcpSocket":{"port":6379},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["container-entrypoint","bash","-c","redis-cli set liveness-probe \"`date`\" | grep OK"]},"initialDelaySeconds":30,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":1,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:43Z","lastTransitionTime":"2018-02-01T14:35:43Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: system-redis
    name: system-redis-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: system-redis
      uid: 2ef6fba8-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: system-redis-1
      deploymentconfig: system-redis
      name: system-redis
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: system-redis
          openshift.io/deployment.name: system-redis-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: system-redis-1
          deploymentconfig: system-redis
          name: system-redis
      spec:
        containers:
        - image: rhscl/redis-32-rhel7:3.2
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 10
            periodSeconds: 5
            successThreshold: 1
            tcpSocket:
              port: 6379
            timeoutSeconds: 1
          name: system-redis
          readinessProbe:
            exec:
              command:
              - container-entrypoint
              - bash
              - -c
              - redis-cli set liveness-probe "`date`" | grep OK
            failureThreshold: 3
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/redis/data
            name: system-redis-storage
          - mountPath: /etc/redis.conf
            name: redis-config
            subPath: redis.conf
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: system-redis-storage
          persistentVolumeClaim:
            claimName: system-redis-storage
        - configMap:
            defaultMode: 420
            items:
            - key: redis.conf
              path: redis.conf
            name: redis-config
          name: redis-config
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:43:00 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:45 +0000 UTC
      openshift.io/deployer-pod.name: system-resque-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: system-resque
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"system-resque","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/system-resque","uid":"2f61a0dc-075d-11e8-b959-52540064f8a5","resourceVersion":"242426953","generation":2,"creationTimestamp":"2018-02-01T14:35:44Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["system-scheduler","system-resque"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-system:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"system-resque"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"system-resque"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"volumes":[{"name":"system-storage","persistentVolumeClaim":{"claimName":"system-storage"}}],"containers":[{"name":"system-resque","image":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1","args":["rake","resque:work","QUEUE=*"],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"true"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"resources":{},"volumeMounts":[{"name":"system-storage","mountPath":"/opt/system/public/system"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"},{"name":"system-scheduler","image":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1","args":["rake","resque:scheduler","QUEUE=*"],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"true"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:44Z","lastTransitionTime":"2018-02-01T14:35:44Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: system-resque
    name: system-resque-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: system-resque
      uid: 2f61a0dc-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 0
    selector:
      deployment: system-resque-1
      deploymentconfig: system-resque
      name: system-resque
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: system-resque
          openshift.io/deployment.name: system-resque-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: system-resque-1
          deploymentconfig: system-resque
          name: system-resque
      spec:
        containers:
        - args:
          - rake
          - resque:work
          - QUEUE=*
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          name: system-resque
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
        - args:
          - rake
          - resque:scheduler
          - QUEUE=*
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          name: system-scheduler
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: system-storage
          persistentVolumeClaim:
            claimName: system-storage
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 0001-01-01 00:00:00 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-07 11:10:42 +0000 UTC
      openshift.io/deployer-pod.name: system-resque-2-deploy
      openshift.io/deployment-config.latest-version: "2"
      openshift.io/deployment-config.name: system-resque
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"system-resque","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/system-resque","uid":"2f61a0dc-075d-11e8-b959-52540064f8a5","resourceVersion":"259397647","generation":3,"creationTimestamp":"2018-02-01T14:35:44Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["system-scheduler","system-resque"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-system:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"system-resque"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"system-resque"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"volumes":[{"name":"system-storage","persistentVolumeClaim":{"claimName":"system-storage"}}],"containers":[{"name":"system-resque","image":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1","args":["rake","resque:work","QUEUE=*"],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"true"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"resources":{},"volumeMounts":[{"name":"system-storage","mountPath":"/opt/system/public/system"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"},{"name":"system-scheduler","image":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1","args":["rake","resque:scheduler","QUEUE=*"],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"true"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":2,"observedGeneration":2,"replicas":1,"updatedReplicas":1,"availableReplicas":0,"unavailableReplicas":1,"details":{"message":"manual change","causes":[{"type":"Manual"}]},"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2018-02-01T14:43:09Z","lastTransitionTime":"2018-02-01T14:43:09Z","reason":"NewReplicationControllerAvailable","message":"replication controller \"system-resque-1\" successfully rolled out"},{"type":"Available","status":"False","lastUpdateTime":"2018-02-07T11:03:37Z","lastTransitionTime":"2018-02-07T11:03:37Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: system-resque
    name: system-resque-2
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: system-resque
      uid: 2f61a0dc-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: system-resque-2
      deploymentconfig: system-resque
      name: system-resque
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "2"
          openshift.io/deployment-config.name: system-resque
          openshift.io/deployment.name: system-resque-2
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: system-resque-2
          deploymentconfig: system-resque
          name: system-resque
      spec:
        containers:
        - args:
          - rake
          - resque:work
          - QUEUE=*
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          name: system-resque
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
        - args:
          - rake
          - resque:scheduler
          - QUEUE=*
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          name: system-scheduler
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: system-storage
          persistentVolumeClaim:
            claimName: system-storage
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:42:46 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:45 +0000 UTC
      openshift.io/deployer-pod.name: system-sidekiq-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: system-sidekiq
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"system-sidekiq","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/system-sidekiq","uid":"2f63ff27-075d-11e8-b959-52540064f8a5","resourceVersion":"242426964","generation":2,"creationTimestamp":"2018-02-01T14:35:44Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["system-sidekiq"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-system:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"system-sidekiq"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"system-sidekiq"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"volumes":[{"name":"system-storage","persistentVolumeClaim":{"claimName":"system-storage"}},{"name":"system-config","configMap":{"name":"system","items":[{"key":"zync.yml","path":"zync.yml"},{"key":"rolling_updates.yml","path":"rolling_updates.yml"}],"defaultMode":420}}],"containers":[{"name":"system-sidekiq","image":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1","args":["rake","sidekiq:worker"],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"FORCE_SSL","value":"true"},{"name":"THREESCALE_SUPERDOMAIN","value":"apps.demolab.local"},{"name":"TENANT_NAME","value":"3scale"},{"name":"APICAST_ACCESS_TOKEN","value":"ohnchca2"},{"name":"ADMIN_ACCESS_TOKEN","value":"a6c778iyvfi8bxa3"},{"name":"PROVIDER_PLAN","value":"enterprise"},{"name":"USER_LOGIN","value":"admin"},{"name":"USER_PASSWORD","value":"7ymhr3cu"},{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_LOG_LEVEL","value":"info"},{"name":"THINKING_SPHINX_ADDRESS","value":"system-sphinx"},{"name":"THINKING_SPHINX_PORT","value":"9306"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"/tmp/sphinx.conf"},{"name":"EVENTS_SHARED_SECRET","value":"084qnjji"},{"name":"THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE","value":"VERIFY_NONE"},{"name":"APICAST_BACKEND_ROOT_ENDPOINT","value":"https://backend-3scale.apps.demolab.local"},{"name":"CONFIG_INTERNAL_API_USER","value":"3scale_api_user"},{"name":"CONFIG_INTERNAL_API_PASSWORD","value":"yrwkkmu6"},{"name":"SECRET_KEY_BASE","value":"314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26"},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}},{"name":"SMTP_ADDRESS","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"address"}}},{"name":"SMTP_USER_NAME","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"username"}}},{"name":"SMTP_PASSWORD","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"password"}}},{"name":"SMTP_DOMAIN","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"domain"}}},{"name":"SMTP_PORT","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"port"}}},{"name":"SMTP_AUTHENTICATION","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"authentication"}}},{"name":"SMTP_OPENSSL_VERIFY_MODE","valueFrom":{"configMapKeyRef":{"name":"smtp","key":"openssl.verify.mode"}}},{"name":"BACKEND_ROUTE","value":"https://backend-3scale.apps.demolab.local"},{"name":"SSL_CERT_DIR","value":"/etc/pki/tls/certs"}],"resources":{},"volumeMounts":[{"name":"system-storage","mountPath":"/opt/system/public/system"},{"name":"system-config","mountPath":"/opt/system/config/zync.yml","subPath":"zync.yml"},{"name":"system-config","mountPath":"/opt/system/config/rolling_updates.yml","subPath":"rolling_updates.yml"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:44Z","lastTransitionTime":"2018-02-01T14:35:44Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: system-sidekiq
    name: system-sidekiq-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: system-sidekiq
      uid: 2f63ff27-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: system-sidekiq-1
      deploymentconfig: system-sidekiq
      name: system-sidekiq
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: system-sidekiq
          openshift.io/deployment.name: system-sidekiq-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: system-sidekiq-1
          deploymentconfig: system-sidekiq
          name: system-sidekiq
      spec:
        containers:
        - args:
          - rake
          - sidekiq:worker
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: FORCE_SSL
            value: "true"
          - name: THREESCALE_SUPERDOMAIN
            value: apps.demolab.local
          - name: TENANT_NAME
            value: 3scale
          - name: APICAST_ACCESS_TOKEN
            value: ohnchca2
          - name: ADMIN_ACCESS_TOKEN
            value: a6c778iyvfi8bxa3
          - name: PROVIDER_PLAN
            value: enterprise
          - name: USER_LOGIN
            value: admin
          - name: USER_PASSWORD
            value: 7ymhr3cu
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_LOG_LEVEL
            value: info
          - name: THINKING_SPHINX_ADDRESS
            value: system-sphinx
          - name: THINKING_SPHINX_PORT
            value: "9306"
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: /tmp/sphinx.conf
          - name: EVENTS_SHARED_SECRET
            value: 084qnjji
          - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
            value: VERIFY_NONE
          - name: APICAST_BACKEND_ROOT_ENDPOINT
            value: https://backend-3scale.apps.demolab.local
          - name: CONFIG_INTERNAL_API_USER
            value: 3scale_api_user
          - name: CONFIG_INTERNAL_API_PASSWORD
            value: yrwkkmu6
          - name: SECRET_KEY_BASE
            value: 314c7b1dab2eaa10d54d57e8a887042d5e5ad41220153d3eeb7123ea1843c2643d3c4d6a4cd6daa8b2caa46d72d7ba0a618d03853ae478e53c8488d4b82a2b26
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          - name: SMTP_ADDRESS
            valueFrom:
              configMapKeyRef:
                key: address
                name: smtp
          - name: SMTP_USER_NAME
            valueFrom:
              configMapKeyRef:
                key: username
                name: smtp
          - name: SMTP_PASSWORD
            valueFrom:
              configMapKeyRef:
                key: password
                name: smtp
          - name: SMTP_DOMAIN
            valueFrom:
              configMapKeyRef:
                key: domain
                name: smtp
          - name: SMTP_PORT
            valueFrom:
              configMapKeyRef:
                key: port
                name: smtp
          - name: SMTP_AUTHENTICATION
            valueFrom:
              configMapKeyRef:
                key: authentication
                name: smtp
          - name: SMTP_OPENSSL_VERIFY_MODE
            valueFrom:
              configMapKeyRef:
                key: openssl.verify.mode
                name: smtp
          - name: BACKEND_ROUTE
            value: https://backend-3scale.apps.demolab.local
          - name: SSL_CERT_DIR
            value: /etc/pki/tls/certs
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          name: system-sidekiq
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/public/system
            name: system-storage
          - mountPath: /opt/system/config/zync.yml
            name: system-config
            subPath: zync.yml
          - mountPath: /opt/system/config/rolling_updates.yml
            name: system-config
            subPath: rolling_updates.yml
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: system-storage
          persistentVolumeClaim:
            claimName: system-storage
        - configMap:
            defaultMode: 420
            items:
            - key: zync.yml
              path: zync.yml
            - key: rolling_updates.yml
              path: rolling_updates.yml
            name: system
          name: system-config
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:42:43 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:45 +0000 UTC
      openshift.io/deployer-pod.name: system-sphinx-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: system-sphinx
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"system-sphinx","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/system-sphinx","uid":"2f022faf-075d-11e8-b959-52540064f8a5","resourceVersion":"242426968","generation":2,"creationTimestamp":"2018-02-01T14:35:43Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["system-sphinx"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-system:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"system-sphinx"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"system-sphinx"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"volumes":[{"name":"system-sphinx-database","emptyDir":{}}],"containers":[{"name":"system-sphinx","image":"registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1","args":["rake","openshift:thinking_sphinx:start"],"env":[{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","value":"mysql2://root:5sgo1wvm@system-mysql/system"},{"name":"THINKING_SPHINX_ADDRESS","value":"0.0.0.0"},{"name":"THINKING_SPHINX_CONFIGURATION_FILE","value":"db/sphinx/production.conf"},{"name":"THINKING_SPHINX_PID_FILE","value":"db/sphinx/searchd.pid"},{"name":"DELTA_INDEX_INTERVAL","value":"5"},{"name":"FULL_REINDEX_INTERVAL","value":"60"}],"resources":{},"volumeMounts":[{"name":"system-sphinx-database","mountPath":"/opt/system/db/sphinx"}],"livenessProbe":{"tcpSocket":{"port":9306},"initialDelaySeconds":60,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:43Z","lastTransitionTime":"2018-02-01T14:35:43Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: system-sphinx
    name: system-sphinx-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: system-sphinx
      uid: 2f022faf-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: system-sphinx-1
      deploymentconfig: system-sphinx
      name: system-sphinx
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: system-sphinx
          openshift.io/deployment.name: system-sphinx-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: system-sphinx-1
          deploymentconfig: system-sphinx
          name: system-sphinx
      spec:
        containers:
        - args:
          - rake
          - openshift:thinking_sphinx:start
          env:
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            value: mysql2://root:5sgo1wvm@system-mysql/system
          - name: THINKING_SPHINX_ADDRESS
            value: 0.0.0.0
          - name: THINKING_SPHINX_CONFIGURATION_FILE
            value: db/sphinx/production.conf
          - name: THINKING_SPHINX_PID_FILE
            value: db/sphinx/searchd.pid
          - name: DELTA_INDEX_INTERVAL
            value: "5"
          - name: FULL_REINDEX_INTERVAL
            value: "60"
          image: registry.access.redhat.com/3scale-amp21/system@sha256:41784ca2715495f9a12fd00763391847400a8d5d5a21ccba51ed47088e26ffb1
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 60
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 9306
            timeoutSeconds: 1
          name: system-sphinx
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /opt/system/db/sphinx
            name: system-sphinx-database
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: system-sphinx-database
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:41:32 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:45 +0000 UTC
      openshift.io/deployer-pod.name: zync-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: zync
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"zync","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/zync","uid":"2f772030-075d-11e8-b959-52540064f8a5","resourceVersion":"242427006","generation":2,"creationTimestamp":"2018-02-01T14:35:44Z","labels":{"app":"zync"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["zync"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"amp-zync:latest"},"lastTriggeredImage":"registry.access.redhat.com/3scale-amp21/zync@sha256:8cdf36d177e81c9e4c3a17950c94245bb662249374d1385231afd63da225a617"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"app":"zync","deploymentconfig":"zync"},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"zync","deploymentconfig":"zync"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"zync","image":"registry.access.redhat.com/3scale-amp21/zync@sha256:8cdf36d177e81c9e4c3a17950c94245bb662249374d1385231afd63da225a617","ports":[{"containerPort":8080,"protocol":"TCP"}],"env":[{"name":"RAILS_LOG_TO_STDOUT","value":"true"},{"name":"RAILS_ENV","value":"production"},{"name":"DATABASE_URL","valueFrom":{"secretKeyRef":{"name":"zync","key":"DATABASE_URL"}}},{"name":"SECRET_KEY_BASE","valueFrom":{"secretKeyRef":{"name":"zync","key":"SECRET_KEY_BASE"}}},{"name":"ZYNC_AUTHENTICATION_TOKEN","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_AUTHENTICATION_TOKEN"}}}],"resources":{"limits":{"cpu":"1","memory":"250Mi"},"requests":{"cpu":"250m","memory":"150M"}},"livenessProbe":{"httpGet":{"path":"/status/live","port":8080,"scheme":"HTTP"},"initialDelaySeconds":10,"timeoutSeconds":60,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/status/ready","port":8080,"scheme":"HTTP"},"initialDelaySeconds":30,"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:44Z","lastTransitionTime":"2018-02-01T14:35:44Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      app: zync
      openshift.io/deployment-config.name: zync
    name: zync-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: zync
      uid: 2f772030-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      app: zync
      deployment: zync-1
      deploymentconfig: zync
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: zync
          openshift.io/deployment.name: zync-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          app: zync
          deployment: zync-1
          deploymentconfig: zync
      spec:
        containers:
        - env:
          - name: RAILS_LOG_TO_STDOUT
            value: "true"
          - name: RAILS_ENV
            value: production
          - name: DATABASE_URL
            valueFrom:
              secretKeyRef:
                key: DATABASE_URL
                name: zync
          - name: SECRET_KEY_BASE
            valueFrom:
              secretKeyRef:
                key: SECRET_KEY_BASE
                name: zync
          - name: ZYNC_AUTHENTICATION_TOKEN
            valueFrom:
              secretKeyRef:
                key: ZYNC_AUTHENTICATION_TOKEN
                name: zync
          image: registry.access.redhat.com/3scale-amp21/zync@sha256:8cdf36d177e81c9e4c3a17950c94245bb662249374d1385231afd63da225a617
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/live
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 10
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 60
          name: zync
          ports:
          - containerPort: 8080
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /status/ready
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 10
          resources:
            limits:
              cpu: "1"
              memory: 250Mi
            requests:
              cpu: 250m
              memory: 150M
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    replicas: 0
- apiVersion: v1
  kind: ReplicationController
  metadata:
    annotations:
      openshift.io/deployer-pod.completed-at: 2018-02-01 14:40:35 +0000 UTC
      openshift.io/deployer-pod.created-at: 2018-02-01 14:35:46 +0000 UTC
      openshift.io/deployer-pod.name: zync-database-1-deploy
      openshift.io/deployment-config.latest-version: "1"
      openshift.io/deployment-config.name: zync-database
      openshift.io/deployment.phase: Complete
      openshift.io/deployment.replicas: "1"
      openshift.io/deployment.status-reason: config change
      openshift.io/encoded-deployment-config: |
        {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"zync-database","namespace":"amp","selfLink":"/apis/apps.openshift.io/v1/namespaces/amp/deploymentconfigs/zync-database","uid":"2f836785-075d-11e8-b959-52540064f8a5","resourceVersion":"242427150","generation":2,"creationTimestamp":"2018-02-01T14:35:44Z","annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Recreate","recreateParams":{"timeoutSeconds":600},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["postgresql"],"from":{"kind":"ImageStreamTag","namespace":"amp","name":"postgresql:9.5"},"lastTriggeredImage":"registry.access.redhat.com/rhscl/postgresql-95-rhel7@sha256:20ae2acdccba2b970d9ddee68e60bda81c38c87154cddce15255aa2813fbc164"}},{"type":"ConfigChange"}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"name":"zync-database"},"template":{"metadata":{"creationTimestamp":null,"labels":{"name":"zync-database"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"volumes":[{"name":"zync-database-data","emptyDir":{}}],"containers":[{"name":"postgresql","image":"registry.access.redhat.com/rhscl/postgresql-95-rhel7@sha256:20ae2acdccba2b970d9ddee68e60bda81c38c87154cddce15255aa2813fbc164","ports":[{"containerPort":5432,"protocol":"TCP"}],"env":[{"name":"POSTGRESQL_USER","value":"zync"},{"name":"POSTGRESQL_PASSWORD","valueFrom":{"secretKeyRef":{"name":"zync","key":"ZYNC_DATABASE_PASSWORD"}}},{"name":"POSTGRESQL_DATABASE","value":"zync_production"}],"resources":{"limits":{"memory":"2G"}},"volumeMounts":[{"name":"zync-database-data","mountPath":"/var/lib/pgsql/data"}],"livenessProbe":{"tcpSocket":{"port":5432},"initialDelaySeconds":30,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/sh","-i","-c","psql -h 127.0.0.1 -U zync -q -d zync_production -c 'SELECT 1'"]},"initialDelaySeconds":5,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":1,"observedGeneration":2,"replicas":0,"updatedReplicas":0,"availableReplicas":0,"unavailableReplicas":0,"details":{"message":"config change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Available","status":"False","lastUpdateTime":"2018-02-01T14:35:44Z","lastTransitionTime":"2018-02-01T14:35:44Z","message":"Deployment config does not have minimum availability."}]}}
    creationTimestamp: null
    generation: 1
    labels:
      openshift.io/deployment-config.name: zync-database
    name: zync-database-1
    ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: zync-database
      uid: 2f836785-075d-11e8-b959-52540064f8a5
  spec:
    replicas: 1
    selector:
      deployment: zync-database-1
      deploymentconfig: zync-database
      name: zync-database
    template:
      metadata:
        annotations:
          openshift.io/deployment-config.latest-version: "1"
          openshift.io/deployment-config.name: zync-database
          openshift.io/deployment.name: zync-database-1
          openshift.io/generated-by: OpenShiftNewApp
        creationTimestamp: null
        labels:
          deployment: zync-database-1
          deploymentconfig: zync-database
          name: zync-database
      spec:
        containers:
        - env:
          - name: POSTGRESQL_USER
            value: zync
          - name: POSTGRESQL_PASSWORD
            valueFrom:
              secretKeyRef:
                key: ZYNC_DATABASE_PASSWORD
                name: zync
          - name: POSTGRESQL_DATABASE
            value: zync_production
          image: registry.access.redhat.com/rhscl/postgresql-95-rhel7@sha256:20ae2acdccba2b970d9ddee68e60bda81c38c87154cddce15255aa2813fbc164
          imagePullPolicy: Always
          livenessProbe:
            failureThreshold: 3
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            tcpSocket:
              port: 5432
            timeoutSeconds: 1
          name: postgresql
          ports:
          - containerPort: 5432
            protocol: TCP
          readinessProbe:
            exec:
              command:
              - /bin/sh
              - -i
              - -c
              - psql -h 127.0.0.1 -U zync -q -d zync_production -c 'SELECT 1'
            failureThreshold: 3
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 1
          resources:
            limits:
              memory: 2G
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/pgsql/data
            name: zync-database-data
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - emptyDir: {}
          name: zync-database-data
  status:
    replicas: 0
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
      service.alpha.openshift.io/dependencies: '[{"name": "apicast-staging", "kind":
        "Service"}]'
    creationTimestamp: null
    name: apicast-production
  spec:
    ports:
    - name: gateway
      port: 8080
      protocol: TCP
      targetPort: 8080
    - name: management
      port: 8090
      protocol: TCP
      targetPort: 8090
    selector:
      deploymentconfig: apicast-production
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    name: apicast-staging
  spec:
    ports:
    - name: gateway
      port: 8080
      protocol: TCP
      targetPort: 8080
    - name: management
      port: 8090
      protocol: TCP
      targetPort: 8090
    selector:
      deploymentconfig: apicast-staging
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    name: apicast-wildcard-router
  spec:
    ports:
    - name: http
      port: 8080
      protocol: TCP
      targetPort: http
    selector:
      deploymentconfig: apicast-wildcard-router
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
      service.alpha.openshift.io/dependencies: '[{"name": "backend-redis", "kind":
        "Service"}]'
    creationTimestamp: null
    name: backend-listener
  spec:
    ports:
    - name: http
      port: 3000
      protocol: TCP
      targetPort: 3000
    selector:
      name: backend-listener
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    name: backend-redis
  spec:
    ports:
    - port: 6379
      protocol: TCP
      targetPort: 6379
    selector:
      name: backend-redis
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    creationTimestamp: null
    labels:
      gluster.kubernetes.io/provisioned-for-pvc: backend-redis-storage
    name: glusterfs-dynamic-backend-redis-storage
  spec:
    ports:
    - port: 1
      protocol: TCP
      targetPort: 1
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    creationTimestamp: null
    labels:
      gluster.kubernetes.io/provisioned-for-pvc: mysql-storage
    name: glusterfs-dynamic-mysql-storage
  spec:
    ports:
    - port: 1
      protocol: TCP
      targetPort: 1
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    creationTimestamp: null
    labels:
      gluster.kubernetes.io/provisioned-for-pvc: system-redis-storage
    name: glusterfs-dynamic-system-redis-storage
  spec:
    ports:
    - port: 1
      protocol: TCP
      targetPort: 1
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    creationTimestamp: null
    labels:
      gluster.kubernetes.io/provisioned-for-pvc: system-storage
    name: glusterfs-dynamic-system-storage
  spec:
    ports:
    - port: 1
      protocol: TCP
      targetPort: 1
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    name: system-developer
  spec:
    ports:
    - name: http
      port: 3000
      protocol: TCP
      targetPort: developer
    selector:
      name: system-app
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    name: system-memcache
  spec:
    ports:
    - name: memcache
      port: 11211
      protocol: TCP
      targetPort: 11211
    selector:
      name: system-memcache
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    name: system-mysql
  spec:
    ports:
    - name: system-mysql
      port: 3306
      protocol: TCP
      targetPort: 3306
    selector:
      name: system-mysql
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
      service.alpha.openshift.io/dependencies: '[{"name": "system-developer", "kind":
        "Service"}]'
    creationTimestamp: null
    name: system-provider
  spec:
    ports:
    - name: http
      port: 3000
      protocol: TCP
      targetPort: provider
    selector:
      name: system-app
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    name: system-redis
  spec:
    ports:
    - name: redis
      port: 6379
      protocol: TCP
      targetPort: 6379
    selector:
      name: system-redis
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    name: system-sphinx
  spec:
    ports:
    - name: sphinx
      port: 9306
      protocol: TCP
      targetPort: 9306
    selector:
      name: system-sphinx
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
      service.alpha.openshift.io/dependencies: '[{"name": "zync-database", "kind":
        "Service"}]'
    creationTimestamp: null
    labels:
      app: zync
    name: zync
  spec:
    ports:
    - name: 8080-tcp
      port: 8080
      protocol: TCP
      targetPort: 8080
    selector:
      app: zync
      deploymentconfig: zync
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      openshift.io/generated-by: OpenShiftNewApp
    creationTimestamp: null
    name: zync-database
  spec:
    ports:
    - name: postgresql
      port: 5432
      protocol: TCP
      targetPort: 5432
    selector:
      name: zync-database
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
kind: List
metadata: {}
